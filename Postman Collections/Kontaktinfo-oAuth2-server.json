{
  "info": {
    "_postman_id": "a4a7f145-3ebe-4ab0-94bf-f6da4cb6cdc6",
    "name": "Kontaktinfo-oAuth2-server",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "name": "Hente gyldig accesstoken med riktig scopen",
      "item": [
        {
          "name": "seleniumsession",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d45104cc-a952-413d-9754-388565e88041",
                "exec": [
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "  var jsonData=pm.response.json();",
                  "pm.globals.set(\"session\",jsonData.sessionId);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b6ebf260-611f-4b45-92fb-dcf51e72bbe5",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session",
            "description": "\n"
          },
          "response": []
        },
        {
          "name": "redirecturl",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d58fb11c-0184-4144-b13c-adb6a7ccf935",
                "exec": [
                  "",
                  "pm.environment.get(\"oidc_url_serviceprovider\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8e9d6c7a-7e68-44d7-9bef-b06314d6ab15",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"url\":\"{{idporten_oidc_client_url}}\"}\n",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/url"
          },
          "response": []
        },
        {
          "name": "finalsubmit",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "754b3ef2-bf5c-4202-bfd4-8944606e1214",
                "exec": [
                  "pm.test(\"submit_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"crtlink\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "fd5ed54a-d7b6-4451-be7b-b74867fc327f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"details-button\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "finalsubmit",
          "_postman_id": "306339e9-8264-481d-976c-21fcd320b30f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{crtlink}}/click"
          },
          "response": []
        },
        {
          "name": "finalsubmit",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d12a768f-0987-40bf-9e39-2dfab0a861f2",
                "exec": [
                  "pm.test(\"submit_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"link\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "de6f2703-8d3d-42b1-9fd8-24ddb5dbab2a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"proceed-link\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "finalsubmit",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c7080284-a3f4-4d00-86c0-1789b71a11bb",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "01b9683f-57a9-4f02-8749-229b1fc002ae",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{link}}/click"
          },
          "response": []
        },
        {
          "name": "findclientelementid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "840693e0-de55-47c6-a0d0-1cb36ae41d4e",
                "exec": [
                  "pm.test(\"find element id for client_id \", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"clientid\", jsonData.value.ELEMENT);",
                  " ",
                  "console.log(pm.globals.get(\"clientid\"));",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "25ad351e-0a2a-49a7-b6d6-bb249f43d197",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"name\",\"value\":\"client_id\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "selectdropdown",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6a638cef-f183-413a-83df-84a2a3c5340d",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "40496ac1-0118-4bfe-bee9-4b632fa7f083",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"value\":{{client_drop_down_test_rp_systest}}\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
          },
          "response": []
        },
        {
          "name": "selectdropdown Copy 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d2900ea9-4886-4b75-a587-4a94e3586cd3",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "96512d59-2533-4462-90f0-9877f85f0d0e",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"value\":{{client_drop_down_test_rp_systest}}\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
          },
          "response": []
        },
        {
          "name": "selectdropdown Copy",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b59d700a-034e-4192-aeb2-8d0aa735b091",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5b5976d8-c3e0-4b20-8511-62f38eaf9408",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"value\":{{client_drop_down_test_rp_systest}}\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
          },
          "response": []
        },
        {
          "name": "findscopeid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "708479d1-4aee-4d3a-b8f4-ae4a645626d6",
                "exec": [
                  "pm.test(\"Scope element id\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"scope\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "94bb24d7-660b-4873-89f9-25a76c5490b5",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"name\",\"value\":\"scope\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "setscope",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "871dcfb5-a893-42f1-90f9-8906f8f6bc71",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "57fd4df2-a533-40a1-b03a-97a7666c321b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"    idporten:user.log.read idporten:user.log.all.read user/spraak.read user/spraak.write user/kontaktinformasjon.read krr:user.log.all.read \"]}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{scope}}/value"
          },
          "response": []
        },
        {
          "name": "findloginelementid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "dfc5db57-6eec-472d-b091-f7c7809cce33",
                "exec": [
                  "pm.test(\"Your test name\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"loginid\", jsonData.value.ELEMENT);",
                  "",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "126a490d-3138-4c40-a792-68d1278d1205",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"login\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "clicklogin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "03d80c32-13f2-4063-9fe7-6ff8ac3da6b8",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "a27d7785-4cf6-4f8d-804f-51b5e843ef83",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "443c9236-84f7-46b9-9c99-1f0e337feaa4",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{loginid}}/click"
          },
          "response": []
        },
        {
          "name": "elementonthispage",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a3bf70fc-74fe-4c71-9c8f-3faf6bc5ba6b",
                "exec": [
                  "pm.test(\"element if for MinID \", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"minid_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "83bef149-83d7-4955-8418-337feb0780da",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/x-www-form-urlencoded",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"MinIDChain\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "clickonminid",
          "_postman_id": "9fbb8660-65b9-4f76-b8ba-94293826458c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{minid_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "getelementidssn",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1b245a85-4103-46e9-9ffd-f5aae85179a4",
                "exec": [
                  "var jsonData = pm.response.json();",
                  " pm.globals.set(\"ssn_elementid\", jsonData.value.ELEMENT);",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c77a0d8e-9d9b-4d4f-bfb0-0a30cf295799",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"input_USERNAME_IDPORTEN\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "getelementidpassword",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3d9e0fa0-7ba8-4ccc-a3f0-f3802decac52",
                "exec": [
                  "var jsonData = pm.response.json();",
                  " pm.globals.set(\"password_elementid\", jsonData.value.ELEMENT);",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1d19c1c9-09c0-4815-a83a-8e00622577e0",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"input_PASSWORD_IDPORTEN\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "setssn",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d1c51b17-e854-4e58-8d92-b1bd9be3de23",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4ca0fe4a-fcce-4f1a-b5b4-b1bd8f5c7085",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"{{ssn}}\"]}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{ssn_elementid}}/value"
          },
          "response": []
        },
        {
          "name": "setpassword",
          "_postman_id": "e9ff7ccf-2c15-4b8b-b2fa-c8cda74af773",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"password01\"]}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{password_elementid}}/value"
          },
          "response": []
        },
        {
          "name": "submit",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "406981f9-4418-42ab-91d6-2b96c8f5d544",
                "exec": [
                  "pm.test(\"next_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"next_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f0e923f8-2ed4-4f2d-9583-83176477e5c3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "clicksubmit",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "086022df-7cdc-4967-9711-d54fe436d4e8",
                "exec": [
                  "setTimeout(checkStatusCode, 500);\r",
                  "\r",
                  "    function checkStatusCode() {\r",
                  "\r",
                  "        pm.sendRequest('https://postman-echo.com/get', function (err, res) {\r",
                  "\r",
                  "            tests['status code should be 200']= res.code ===200;\r",
                  "\r",
                  "        });\r",
                  "    }"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0da51a14-a426-4234-b9f1-d57587ea4edd",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{next_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "pinnumberid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ce9219bb-5100-43dd-b9cb-693c6af39bbf",
                "exec": [
                  "pm.test(\"pin_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"pin_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "28d33fa6-f21f-40d3-8405-562504ea36de",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"input_PINCODE1_IDPORTEN\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "setppin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e1074e3f-15f7-4d3d-97e1-91e69f6c0327",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "67a6fa48-7093-4a78-9948-008c9a5a8042",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"12345\"]}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{pin_elementid}}/value"
          },
          "response": []
        },
        {
          "name": "getsubmitid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b5ed5d4c-9a1d-4623-9514-abeefe19e766",
                "exec": [
                  "pm.test(\"submit_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"submit_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b2e85b15-0129-43a3-85d9-dbb7b4656b84",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "finalsubmit ",
          "_postman_id": "9b5800cd-cdcd-4f3e-afac-d5c02a80dfd4",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{submit_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "getconsentid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d3d27704-2c84-49f7-85dc-46e6302d907a",
                "exec": [
                  "pm.test(\"consent_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"consent_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "cf82a2d1-a444-41ae-bf9f-f4366dc6a019",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"name\",\"value\":\"consentAccepted\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "acceptconsent",
          "_postman_id": "e1ee44bc-5f18-4895-b8c7-ae1eb6d42868",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "file",
              "file": {
                "src": ""
              },
              "options": {
                "file": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{consent_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "gettokenid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1f9569c9-1564-4cf8-9c6c-c42f5987ea59",
                "exec": [
                  "pm.test(\"token_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"token_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f1e7d7cb-2087-49f6-92c5-16df4885c93c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"get-tokens\"}",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "henttoken",
          "_postman_id": "5cb8f121-f57d-422f-92e5-392ab9748663",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "file",
              "file": {}
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{token_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "getTokensElements",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0f8d364f-b39d-4d44-b83a-3d437806de1f",
                "exec": [
                  "pm.test(\"tokens\", function () {",
                  " var jsonData = pm.response.json();",
                  " console.log('tokens test jsonData',jsonData);",
                  " var tokens=jsonData.value;",
                  "  console.log('tokens test tokens',tokens);",
                  " var temptoken=tokens.split('access_token:').pop();",
                  "   console.log('tokens test temptoken',temptoken);",
                  " var refreshtokenpos=temptoken.lastIndexOf(\"refresh_token:\");",
                  "    console.log('tokens test refreshtokenpos',refreshtokenpos);",
                  " var token = temptoken.substring(1,refreshtokenpos-1);    ",
                  " pm.environment.set(\"krrtoken\", token);",
                  "     console.log('krrtoken test token',token);",
                  "console.log('krrtoken',pm.environment.get(\"krrtoken\"));",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d3eaea86-651c-471e-90f1-9d9adc43b884",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {}
              }
            },
            "url": "http://localhost:9515/session/{{session}}/source"
          },
          "response": []
        }
      ],
      "_postman_id": "8e197b1c-1ac1-4e48-bb8d-56384de94327"
    },
    {
      "name": "Person",
      "item": [
        {
          "name": "/person (oppdatere spr\u00e5kpreferanse)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9f6affba-9c48-4eb7-a53f-86d74a481c2e",
                "exec": [
                  "pm.test(\"Status code is 204\", function () {",
                  "    pm.response.to.have.status(204);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "94fdb707-1c58-45c0-8840-cac9b972ec6a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{krrtoken}}"
              }
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"spraak\": \"en\"\r\n}"
            },
            "url": "{{krr_oauth2_server}}/rest/v1/person"
          },
          "response": []
        },
        {
          "name": "/person",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "eaf0544a-3e81-48db-be6e-47a894a76638",
                "exec": [
                  "pm.test(\"Test will check ssn\", function () {",
                  "    var jsonData = pm.response.json();",
                  "",
                  "    pm.expect(jsonData.personidentifikator).to.eql(pm.environment.get(\"ssn\"));",
                  "   pm.expect(jsonData.reservasjon).to.eql(\"NEI\");",
                  "      pm.expect(jsonData.status).to.eql(\"AKTIV\");",
                  "        ",
                  "      ",
                  "});",
                  "",
                  "pm.test(\"response must be valid and have a body\", function () {",
                  "     // assert that the status code is 200",
                  "     pm.response.to.be.ok; // info, success, redirection, clientError,  serverError, are other variants",
                  "     // assert that the response has a valid JSON body",
                  "     pm.response.to.be.withBody;",
                  "     pm.response.to.be.json; // this assertion also checks if a body  exists, so the above check is not needed",
                  "});",
                  "",
                  "tests[\"personidentifikator is present\"]=responseBody.has(\"personidentifikator\");",
                  "tests[\"reservasjon is present\"]=responseBody.has(\"reservasjon\");",
                  "tests[\"status is present\"]=responseBody.has(\"status\");",
                  "tests[\"spraak is present\"]=responseBody.has(\"spraak\");",
                  "tests[\"epostadresse is present\"]=responseBody.has(\"epostadresse\");",
                  "tests[\"epostadresse_oppdatert is present\"]=responseBody.has(\"epostadresse_oppdatert\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0f76982b-f6aa-4d7b-a807-99a72b1f8072",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{krrtoken}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "url": "{{krr_oauth2_server}}/rest/v1/person/"
          },
          "response": []
        }
      ],
      "_postman_id": "79b29ad1-8cbf-45b2-807c-98791888edda"
    },
    {
      "name": "Personer",
      "item": [
        {
          "name": "/personer (1000 stk)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2805a595-98a3-4867-b27c-1ece60353155",
                "exec": [
                  "pm.test(\"KRR personer 1 \", function () {\r",
                  "        var jsonData = pm.response.json();\r",
                  "        \r",
                  "        pm.expect(jsonData.personer[0].personidentifikator).to.eql(pm.environment.get(\"ssn\"));\r",
                  "        pm.expect(jsonData.personer[0].reservasjon).to.eql(\"NEI\");\r",
                  "        pm.expect(jsonData.personer[0].status).to.eql(\"AKTIV\");\r",
                  "      //  pm.expect(jsonData.personer[0].spraak).to.eql(\"en\");  \r",
                  "\r",
                  "});\r",
                  "\r",
                  "pm.test(\"KRR personer 2 \", function () {\r",
                  "        var jsonData = pm.response.json();\r",
                  "        \r",
                  "        pm.expect(jsonData.personer[1].personidentifikator).to.eql(\"23079403083\");\r",
                  "        \r",
                  " \r",
                  "\r",
                  "});\r",
                  "\r",
                  "pm.test(\"KRR personer 3 \", function () {\r",
                  "        var jsonData = pm.response.json();\r",
                  "        \r",
                  "        pm.expect(jsonData.personer[2].personidentifikator).to.eql(\"23079402966\");\r",
                  "        \r",
                  " \r",
                  "\r",
                  "});\r",
                  "\r",
                  "pm.test(\"KRR personer 4 \", function () {\r",
                  "            var jsonData = pm.response.json();\r",
                  "            \r",
                  "            pm.expect(jsonData.personer[3].personidentifikator).to.eql(\"23079402885\");\r",
                  "            pm.expect(jsonData.personer[3].status).to.eql(\"AKTIV\");\r",
                  "            pm.expect(jsonData.personer[3].reservasjon).to.eql(\"NEI\");\r",
                  " \r",
                  "\r",
                  "});\r",
                  "\r",
                  "pm.test(\"KRR personer 5 \", function () {\r",
                  "            var jsonData = pm.response.json();\r",
                  "            \r",
                  "            pm.expect(jsonData.personer[4].personidentifikator).to.eql(\"23079402613\");\r",
                  "            pm.expect(jsonData.personer[4].status).to.eql(\"AKTIV\");\r",
                  "            pm.expect(jsonData.personer[4].reservasjon).to.eql(\"NEI\");\r",
                  " \r",
                  "\r",
                  "});\r",
                  "\r",
                  "pm.test(\"KRR personer 6 \", function () {\r",
                  "            var jsonData = pm.response.json();\r",
                  "            \r",
                  "            pm.expect(jsonData.personer[5].personidentifikator).to.eql(\"23079402532\");\r",
                  "            \r",
                  "            \r",
                  "\r",
                  "});\r",
                  "\r",
                  "pm.test(\"response must be valid and have a body\", function () {\r",
                  "     // assert that the status code is 200\r",
                  "     pm.response.to.be.ok; // info, success, redirection, clientError,  serverError, are other variants\r",
                  "     // assert that the response has a valid JSON body\r",
                  "     pm.response.to.be.withBody;\r",
                  "     pm.response.to.be.json; // this assertion also checks if a body  exists, so the above check is not needed\r",
                  "});\r",
                  "\r",
                  "tests[\"personidentifikator is present\"]=responseBody.has(\"personidentifikator\");\r",
                  "tests[\"reservasjon is present\"]=responseBody.has(\"reservasjon\");\r",
                  "tests[\"status is present\"]=responseBody.has(\"status\");\r",
                  "\r",
                  "\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ed090b20-5aec-41b1-a82b-deca61ec59e8",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{krrtoken}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"personidentifikatorer\": [\r\n    {{ssn}},\"23079403083\",\"23079402966\",\"23079402885\",\"23079402613\",\"23079402532\"\r\n  ]\r\n}"
            },
            "url": "{{krr_oauth2_server}}/rest/v1/personer"
          },
          "response": []
        }
      ],
      "_postman_id": "a2c2a408-1e55-41d3-88cd-207f1cc04898"
    },
    {
      "name": "Sertifikat",
      "item": [
        {
          "name": "/printSertifikat",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cb6dbdf4-e778-449f-9d17-7b4845b70fc8",
                "exec": [
                  "pm.test(\"response must be valid and have a body\", function () {",
                  "     // assert that the status code is 200",
                  "     pm.response.to.be.ok; // info, success, redirection, clientError,  serverError, are other variants",
                  "     // assert that the response has a valid JSON body",
                  "     pm.response.to.be.withBody;",
                  "     pm.response.to.be.json; // this assertion also checks if a body  exists, so the above check is not needed",
                  "});",
                  "",
                  "pm.test(\"Attribute postkasseleverandoerAdresse has correct value <printserver> \", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.postkasseleverandoerAdresse).to.eql(\"printserver\");",
                  "});",
                  "",
                  "pm.test(\"Attribute <x509Sertifikat has correct value <sertifikat> \", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.x509Sertifikat).to.eql(\"MIIDXTCCAkWgAwIBAgIJAOyYwbdZq9oMMA0GCSqGSIb3DQEBBQUAMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMTQwMjI0MjExMTI2WhcNNDEwNzExMjExMTI2WjBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA497PlWbc7g85TK0ln4tCjPvlh2rhKHOtpJ9Gas3Qa7vJO1tkzWp3ZmBFfMG8\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7b4d666c-4b44-45c5-91cd-4f68a447433c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{krr_oauth2_server}}/rest/v1/printSertifikat"
          },
          "response": []
        }
      ],
      "_postman_id": "6be1f87c-44b2-4d2f-a8d8-4ee331315758"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": {
      "token": "{{krrtoken}}"
    }
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "49facd6d-ef4e-43c1-8643-fe53ac2aabd9",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "149a59fa-622e-417c-8a87-2be5faee847f",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}