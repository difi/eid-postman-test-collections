{
  "info": {
    "_postman_id": "2b35d90c-9744-4021-b1ae-ad8f82a7acba",
    "name": "Serviceprovider API",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "name": "integrations-controller (no auth)",
      "item": [
        {
          "name": "/integrations",
          "_postman_id": "12196ea0-5395-4d34-8c5d-15413d4fd871",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": "{{serviceprovider_api}}/integrations"
          },
          "response": []
        }
      ],
      "_postman_id": "986813b7-90f0-45e2-8ab5-7d0f08f4b4df",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "e5c4aaac-98ef-430f-9739-cc676b6105fa",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "4ae90363-1db7-4d54-94e6-5a66b53199f7",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "name": "saml2-entity-meta-data (no auth)",
      "item": [
        {
          "name": "/saml2",
          "_postman_id": "7ff2eed5-827f-464d-9865-e078c1e0dcd3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{serviceprovider_api}}/saml2?entityId=systest-sptest1",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "saml2"
              ],
              "query": [
                {
                  "key": "entityId",
                  "value": "systest-sptest1"
                }
              ]
            }
          },
          "response": []
        }
      ],
      "_postman_id": "55d8ffe8-f78c-4e5b-ad5a-4bc830f64597"
    },
    {
      "name": "Hente gyldig accesstoken med riktig scope",
      "item": [
        {
          "name": "seleniumsession",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d8b2c24d-e0ff-4735-a53e-d1fd6c1e91b7",
                "exec": [
                  "var jsonData=pm.response.json();",
                  "pm.globals.set(\"session\",jsonData.sessionId);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "22441392-f039-4e1e-82ae-d680ff9454f3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}"
            },
            "url": "http://localhost:9515/session",
            "description": "\n"
          },
          "response": []
        },
        {
          "name": "redirecturl",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f32d6f05-2e34-4788-9d50-03fd801eb09e",
                "exec": [
                  "",
                  "pm.environment.get(\"oidc_url_serviceprovider\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "65309e09-3477-4c9b-b22f-5279d8622b41",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"url\":\"{{idporten_oidc_client_url}}\"}\n"
            },
            "url": "http://localhost:9515/session/{{session}}/url"
          },
          "response": []
        },
        {
          "name": "findclientelementid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
                "exec": [
                  "pm.test(\"find element id for client_id \", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"clientid\", jsonData.value.ELEMENT);",
                  " ",
                  "console.log(pm.globals.get(\"clientid\"));",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "14c968e7-206f-405b-b4fa-9f5d3cefa49f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"name\",\"value\":\"client_id\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "selectdropdown",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a9c5f504-80da-4b67-bd66-86c7cb3558c4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ee749aa1-0820-492f-bd85-4ad8491b75d1",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/click"
          },
          "response": []
        },
        {
          "name": "selectclientid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "93942b66-73f7-40cd-816a-8f6eac550aec",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "39e6f982-2bbd-4b55-8c98-3e4ee64574b0",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"\\uE015\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
          },
          "response": []
        },
        {
          "name": "selectclientid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "93942b66-73f7-40cd-816a-8f6eac550aec",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "35e9eae1-d9a4-43fd-9841-88536670e513",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"\\uE015\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
          },
          "response": []
        },
        {
          "name": "clickenter",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "93942b66-73f7-40cd-816a-8f6eac550aec",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "12c5a03f-6d77-43e9-9d01-476ed5c17765",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"\\uE007\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
          },
          "response": []
        },
        {
          "name": "findscopeid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
                "exec": [
                  "pm.test(\"Scope element id\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"scope\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d41cae2c-4abf-41c0-9ad0-8c6e6c575ea1",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"name\",\"value\":\"scope\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "setscope",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e65befc8-4e49-43f6-a2bc-3ebfdc77a6dc",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "759bba17-e988-4076-9cc6-979559bbb00b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"    krr:user.log.all.read idporten:user.log.read user/varslingsstatus.read idporten:authorizations.admin idporten:dcr.read global/kontaktinformasjon.read idporten:dcr.write idporten:user.log.all.read dsf-adresse global/sertifikat.read global/varslingsstatus.read idporten:dcr.modify idporten:authorizations.revoke dsf-navn tokeninfo user/spraak.read idporten:tokenexchange openid profile idporten:scopes.read user/sertifikat.read user/digitalpost.read idporten:scopes.write user/spraak.write samarbeid:sp-web idporten:authorizationstest.read\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{scope}}/value"
          },
          "response": []
        },
        {
          "name": "findloginelementid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
                "exec": [
                  "pm.test(\"Your test name\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"loginid\", jsonData.value.ELEMENT);",
                  "",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "523a3be3-e3e2-419f-b162-cb7953d0f83c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"login\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "clicklogin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a9c5f504-80da-4b67-bd66-86c7cb3558c4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "5f95f475-e14e-4a9f-9448-803200c232cd",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "71c148ec-e57d-46b1-a527-1fc8660d8f72",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{loginid}}/click"
          },
          "response": []
        },
        {
          "name": "elementonthispage",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4d4bd4ba-154b-4b05-923d-64e1d36be0a1",
                "exec": [
                  "pm.test(\"element if for MinID \", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"minid_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "23d6b622-0f30-4a02-b60f-4083d5b88448",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/x-www-form-urlencoded",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"MinIDChain\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "clickonminid",
          "_postman_id": "84ce0087-bb98-4700-a3af-61a26cfc8d30",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{minid_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "getelementidssn",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "189f83ec-8efd-438c-b133-0fbc201abad0",
                "exec": [
                  "var jsonData = pm.response.json();",
                  " pm.globals.set(\"ssn_elementid\", jsonData.value.ELEMENT);",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e7620721-477b-48cf-9c0d-3f81a49f3cf3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"input_USERNAME_IDPORTEN\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "getelementidpassword",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8929c791-35e2-41f7-8b0b-8678e9309e58",
                "exec": [
                  "var jsonData = pm.response.json();",
                  " pm.globals.set(\"password_elementid\", jsonData.value.ELEMENT);",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "285bb680-3f3d-481b-94b7-81ee111f3fb0",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"input_PASSWORD_IDPORTEN\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "setssn",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e65befc8-4e49-43f6-a2bc-3ebfdc77a6dc",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f19139e5-3f2e-4fe8-8b84-f6b1bb73e56c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"{{ssn}}\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{ssn_elementid}}/value"
          },
          "response": []
        },
        {
          "name": "setpassword",
          "_postman_id": "f15dcf0f-7b79-46e4-9b0f-b7d7caf27b9b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"password01\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{password_elementid}}/value"
          },
          "response": []
        },
        {
          "name": "submit",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d4ee6a6d-0d1e-4948-aaa6-a2829f185475",
                "exec": [
                  "pm.test(\"next_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"next_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "56680f38-a74a-420b-8327-bccc4ce60642",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "clicksubmit",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e75ea17b-88ea-4c32-b35f-8758d03c48c1",
                "exec": [
                  "setTimeout(checkStatusCode, 500);\r",
                  "\r",
                  "    function checkStatusCode() {\r",
                  "\r",
                  "        pm.sendRequest('https://postman-echo.com/get', function (err, res) {\r",
                  "\r",
                  "            tests['status code should be 200']= res.code ===200;\r",
                  "\r",
                  "        });\r",
                  "    }"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "919be296-79c1-4e21-965a-40f2dab96a16",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{next_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "pinnumberid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "49f2b57c-29a8-41bf-9041-7400083bf039",
                "exec": [
                  "pm.test(\"pin_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"pin_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "83d7420e-dc90-4025-953d-b7e28df5bbec",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"input_PINCODE1_IDPORTEN\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "setppin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "95b50532-96b7-405c-afd1-52b576a70e9f",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "54efc9e6-5ccc-4a0c-baca-85167e9c1caf",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"12345\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{pin_elementid}}/value"
          },
          "response": []
        },
        {
          "name": "getsubmitid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02b4c223-cb45-4310-b064-d60510887571",
                "exec": [
                  "pm.test(\"submit_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"submit_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "33757dea-f7c0-42a0-8cfa-48b17fa4719b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "finalsubmit ",
          "_postman_id": "2887f005-1ac8-45b4-9875-60c732585717",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{submit_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "getconsentid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02b4c223-cb45-4310-b064-d60510887571",
                "exec": [
                  "pm.test(\"consent_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"consent_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "655acc50-bcf5-44b6-99ce-d53614c8c322",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"name\",\"value\":\"consentAccepted\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "acceptconsent",
          "_postman_id": "26339372-ac47-4e43-9104-dd3476abca02",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "file",
              "file": {
                "src": ""
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{consent_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "gettokenid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02b4c223-cb45-4310-b064-d60510887571",
                "exec": [
                  "pm.test(\"token_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"token_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4045e019-4f40-4d8a-809d-c3bf643625af",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"get-tokens\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "henttoken",
          "_postman_id": "ef370976-77f3-4983-a166-82b703d29b49",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "file",
              "file": {}
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{token_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "getTokensElements",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02b4c223-cb45-4310-b064-d60510887571",
                "exec": [
                  "pm.test(\"tokens\", function () {",
                  " var jsonData = pm.response.json();",
                  " console.log('tokens test jsonData',jsonData);",
                  " var tokens=jsonData.value;",
                  "  console.log('tokens test tokens',tokens);",
                  " var temptoken=tokens.split('access_token:').pop();",
                  "   console.log('tokens test temptoken',temptoken);",
                  " var refreshtokenpos=temptoken.lastIndexOf(\"refresh_token:\");",
                  "    console.log('tokens test refreshtokenpos',refreshtokenpos);",
                  " var token = temptoken.substring(1,refreshtokenpos-1);    ",
                  " pm.environment.set(\"access_token_sp\", token);",
                  "     console.log('tokens test token',token);",
                  "console.log('access_token_sp',pm.environment.get(\"access_token_sp\"));",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a56d1393-00e9-4ec5-8ef6-0ab92e95ce7b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/source"
          },
          "response": []
        }
      ],
      "_postman_id": "7e3f0ded-c3a9-4510-9507-f5d473484cda"
    },
    {
      "name": "oidc-client-controller",
      "item": [
        {
          "name": "/clients",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "81193e3f-c47b-4c82-b2e3-b07850b74304",
                "exec": [
                  "pm.test(\"Get Clients \", function () {",
                  "        ",
                  "pm.response.to.have.status(200);",
                  "var jsonData = pm.response.json();",
                  "console.log(\"clients \",jsonData);",
                  "",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "71df21c3-6cee-487b-93dd-b7f740e5cc5e",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "35a0af9e-6769-4d6b-a10a-4c488e0d702d",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{serviceprovider_api}}/clients?inactive=false",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "clients"
              ],
              "query": [
                {
                  "key": "inactive",
                  "value": "false"
                }
              ]
            },
            "description": "Optional attributt \"inactive\" [true|false] som filtreringsparameter"
          },
          "response": []
        },
        {
          "name": "/clients",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d3d45bdc-d96a-4461-965a-a4858d750ff3",
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "",
                  "pm.test(\"/clients \", function () {",
                  "    var jsonData = pm.response.json();",
                  "    console.log(\"clients here\",jsonData.client_id);",
                  "    pm.environment.set(\"sp_client_id\", jsonData.client_id);",
                  "    console.log(\"client id\",jsonData.client_id);",
                  "",
                  "}",
                  "",
                  ");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3ddbeef4-92a4-417e-a346-bcf5e12fd26b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"client_name\": \"knut-oidc-test\",\n    \"description\": \"Knut sin testklient oidc\",\n    \"authorization_lifetime\": 3600,\n    \"access_token_lifetime\": 3600,\n    \"refresh_token_lifetime\": 3600,\n    \"client_type\": \"PUBLIC\",\n    \"token_reference\": \"OPAQUE\",\n    \"refresh_token_usage\": \"ONETIME\",\n    \"frontchannel_logout_session_required\": false,\n    \"force_pkce\": false,\n    \"client_id\": \"123456789\",\n    \"client_orgno\": null,\n    \"client_uri\": \"https://wwww.knut.no\",\n    \"supplier_orgno\": null,\n    \"active\": false,\n    \"default_scopes\": [],\n    \"logo_uri\": \"bilde.gif\",\n    \"grant_types\": [\"urn:ietf:params:oauth:grant-type:jwt-bearer\"],\n    \"last_updated\": \"2019-03-21T17:03:59.583+01:00\",\n    \"created\": \"2019-03-08T15:50:40.540+01:00\"\n}"
            },
            "url": "{{serviceprovider_api}}/clients"
          },
          "response": []
        },
        {
          "name": "/clients/{id}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cd27aa17-bac8-4ef4-85c7-a38399314692",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"/get clients \", function () {",
                  "    var jsonData = pm.response.json();",
                  "   console.log(\"get clients \",jsonData.value);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9d66ef35-99e3-454a-8c1b-b1e5ae6e5c14",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{serviceprovider_api}}/clients/{{sp_client_id}}?inactive=true",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "clients",
                "{{sp_client_id}}"
              ],
              "query": [
                {
                  "key": "inactive",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "/clients/{id}/secret",
          "_postman_id": "53a0471d-5f2e-42eb-ac4b-ab035761cdd4",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{serviceprovider_api}}/clients/{{sp_client_id}}/secret"
          },
          "response": []
        },
        {
          "name": "/clients",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a8881322-43a7-4570-bdd3-88d8f73c9a97",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9e9e248a-8428-44c2-91c3-45807e9cad0d",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"client_name\": \"oidc_testautomasjon_test3\",\n    \"description\": \"cucumber-creating_oidc_client\",\n\t\"grant_types\": [\"urn:ietf:params:oauth:grant-type:jwt-bearer\"],    \n    \"scopes\": [\n        \"openid\",\n        \"profile\"\n    ]\n}"
            },
            "url": "{{serviceprovider_api}}/clients/{{sp_client_id}}"
          },
          "response": []
        },
        {
          "name": "/clients/{id}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "587a4b78-014f-4a13-85c8-147881ab6d24",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a14d2207-cb13-40a2-b694-8a8f455b88ff",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{serviceprovider_api}}/clients/{{sp_client_id}}"
          },
          "response": []
        }
      ],
      "_postman_id": "1fde2b06-0b44-4258-9ee4-dff5deafecf2",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "8e6df318-4559-4430-929b-f60841bc276e",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "a772d638-b89f-4d6a-96ca-c77af18fe48c",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "name": "scope-controller",
      "item": [
        {
          "name": "/scopes{?inactive, scope}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d7ebcdef-b67e-44df-82ec-bfecebf423ba",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5bb7330f-f0a4-4494-b283-9fb5d7a3291f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{serviceprovider_api}}/scopes?scope=eldar:public",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "scopes"
              ],
              "query": [
                {
                  "key": "scope",
                  "value": "eldar:public"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "/scopes/all{?inactive, prefix}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6a4263b9-6576-4699-8210-49731135db5c",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e47d96fa-ac4a-4bbe-ac76-1a3b957c3c67",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{serviceprovider_api}}/scopes/all?inactive=true",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "scopes",
                "all"
              ],
              "query": [
                {
                  "key": "inactive",
                  "value": "true"
                },
                {
                  "key": "prefix",
                  "value": "eldar",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "/scopes",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "06bc0f89-04c7-40d6-abec-9f10a1e4eed1",
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "var jsonData=pm.response.json();",
                  "pm.globals.set(\"new_scope\",jsonData.name);",
                  "console.log(\"new scope \",pm.globals.get(\"new_scope\"));",
                  "        ",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "264685f4-4dc0-407d-ab9e-2fe02be2637c",
                "exec": [
                  "postman.setGlobalVariable('ran', Math.floor(Math.random() * 5000));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d288560a-23f3-4e59-831a-ae3e1a3d9e50",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n\t\n    \"name\": \"tullenamn:eldar\",\n    \"active\": true,\n    \"prefix\": \"eldar\",\n    \"subscope\": \"nyttscope1{{ran}}\",\n    \"description\": \"Dette er Knut sitt interne scope\",\n    \"visibility\": \"PUBLIC\",\n    \"last_updated\": \"2019-02-08T09:09:12.057+01:00\",\n    \"created\": \"2019-02-07T10:47:00.086+01:00\",\n    \"owner_orgno\": \"991825827\",\n   \"token_type\": \"SELF_CONTAINED\"\n\n}"
            },
            "url": "{{serviceprovider_api}}/scopes"
          },
          "response": []
        },
        {
          "name": "Put /scopes{?scope}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
                  "console.log(\"body : \" + request.data);",
                  "console.log(\"url : \" + request.url);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "76312f5e-3e53-4f9b-a283-5741457296e1",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"eldar:nyttscope13199\",\n    \"active\": true,\n    \"prefix\": \"eldar\",\n    \"subscope\": \"nyttscope13199\",\n    \"description\": \"Dette er Knut sitt interne scope\",\n    \"visibility\": \"INTERNAL\",\n    \"last_updated\": \"2019-08-02T11:47:51.630+02:00\",\n    \"created\": \"2019-08-02T11:47:51.630+02:00\",\n    \"owner_orgno\": \"991825827\",\n    \"token_type\": \"SELF_CONTAINED\"\n}"
            },
            "url": {
              "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope}}",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "scopes"
              ],
              "query": [
                {
                  "key": "scope",
                  "value": "{{new_scope}}"
                }
              ]
            }
          },
          "response": []
        }
      ],
      "_postman_id": "1f3251e3-5ce9-48f1-bf07-7dd794feac4c"
    },
    {
      "name": "scope-access-controller",
      "item": [
        {
          "name": "/scopes/access{?consumer_orgno, owner_orgno, inactive, scope*}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4459e122-5953-49a3-9e48-5d9cf7beb2fe",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4907aa68-07d0-4d93-a88c-c4f662d47ed7",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{serviceprovider_api}}/scopes/access?inactive=true&scope={{new_scope}}",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "scopes",
                "access"
              ],
              "query": [
                {
                  "key": "consumer_orgno",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "owner_orgno",
                  "value": "889640782",
                  "disabled": true
                },
                {
                  "key": "inactive",
                  "value": "true"
                },
                {
                  "key": "scope",
                  "value": "{{new_scope}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "/scopes/access/all{?inactive}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c1960a1d-9b2f-4c60-9edf-9a122f03c397",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6b9d9c32-42ef-4adf-abf2-b2d08a5ef2af",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{serviceprovider_api}}/scopes/access/all?inactive=true",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "scopes",
                "access",
                "all"
              ],
              "query": [
                {
                  "key": "inactive",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "/scopes/access/{consumer_orgno}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f72efa62-7887-4740-ba6f-bff0e867b697",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "48e0ed52-2ecc-4e4c-a73e-63230fb40235",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{serviceprovider_api}}/scopes/access/991825827?scope={{new_scope}}",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "scopes",
                "access",
                "991825827"
              ],
              "query": [
                {
                  "key": "scope",
                  "value": "{{new_scope}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "/scopes/access/{consumer_orgno}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "20360f86-52cc-4076-8b95-48380b942e96",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9eb87c36-ef54-4143-a925-791ac445db9b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "DELETE",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{serviceprovider_api}}/scopes/access/991825827?scope={{new_scope}}",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "scopes",
                "access",
                "991825827"
              ],
              "query": [
                {
                  "key": "scope",
                  "value": "{{new_scope}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete  /scopes{?scope}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "11c7f893-2704-4292-9819-12d13b8a5722",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7c3f9d5c-1f68-4707-b85e-78dbd374c363",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope}}",
              "host": [
                "{{serviceprovider_api}}"
              ],
              "path": [
                "scopes"
              ],
              "query": [
                {
                  "key": "scope",
                  "value": "{{new_scope}}"
                }
              ]
            }
          },
          "response": []
        }
      ],
      "_postman_id": "ef98b4a2-e155-47e7-95f2-452ac69c5981"
    },
    {
      "name": "scope-prefix-controller",
      "item": [
        {
          "name": "/prefix",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c0f4a708-0125-4e79-8759-d0c730c7ff65",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3949b6c3-40ac-4325-8e5b-7419690198e4",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": "{{serviceprovider_api}}/prefix"
          },
          "response": []
        }
      ],
      "_postman_id": "ef2f624e-17f7-490e-a15f-76dec24f8331",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "fe9b1d7d-f851-4ed7-8884-49c3112dd831",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "971f28d2-4bbe-403d-ae10-c4d2e42c3967",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "name": "oidc-jwks-controller",
      "item": [
        {
          "name": "sp-backend: POST JWKS",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "24a21384-f3bd-4348-b718-22b0e4677831",
                "exec": [
                  "pm.test(\"JWKS added to the client to use for authentication.\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8c76bd95-6706-407b-8297-e7717a771d56",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "",
                "value": "",
                "type": "text",
                "disabled": true
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"keys\" : [ { \"e\"   : \"AQAB\",\r\n               \"n\"   : \"kWp2zRA23Z3vTL4uoe8kTFptxBVFunIoP4t_8TDYJrOb7D1iZNDXVeEsYKp6ppmrTZDAgd-cNOTKLd4M39WJc5FN0maTAVKJc7NxklDeKc4dMe1BGvTZNG4MpWBo-taKULlYUu0ltYJuLzOjIrTHfarucrGoRWqM0sl3z2-fv9kkWp2zRA23Z3vTL4uoe8kTFptxBVFunIoP4t_8TDYJrOb7D1iZNDXVeEsYKp6ppmrTZDAgd-cNOTKLd4M39WJc5FN0maTAVKJc7NxklDeKcsss4dMe1BGvTZNG4MpWBo-taKULlYUu0ltYJuLzOjIrTHfarucrGoRWqM0sl3z2-fv9k\",\r\n               \"kty\" : \"RSA\",\r\n               \"alg\" : \"RS256\",\r\n               \"kid\" : \"1\" },\r\n               {\r\n               \t\"e\"   : \"AQAB\",\r\n               \"alg\" : \"RS256\",\r\n               \"n\"   : \"kWp2zRA23Z3vTL4uoe8kTFptxBVFunIoP4t_8TDYJrOb7D1iZNDXVeEsYKp6ppmrTZDAgd-cNOTKLd4M39WJc5FN0maTAVKJc7NxklDeKc4dMe1BGvTZNG4MpWBo-taKULlYUu0ltYJuLzOjIrTHfarucrGoRWqM0sl3z2ssss-fv9kkWp2zRA23Z3vTL4uoe8kTFptxBVFunIoP4t_8TDYJrOb7D1iZNDXVeEsYKp6ppmrTZDAgd-cNOTKLd4M39WJc5FN0maTAVKJc7NxklDeKc4dMe1BGvTZNG4MpWBo-taKULlYUu0ltYJuLzOjIrTHfarucrGoRWqM0sl3z2-fv9k\",\r\n               \"kty\" : \"RSA\",\r\n               \"kid\" : \"2\"\r\n               } ]\r\n}"
            },
            "url": "{{sp_backend}}/serviceprovider/oidc/{{clientId}}/jwks"
          },
          "response": []
        },
        {
          "name": "sp-backend: POST JWKS with business certificate",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6e8a4e47-1a28-4d99-9f9e-d9c1665cf094",
                "exec": [
                  "pm.test(\"JWKS created for Business certificate\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Scope element id\", function () {",
                  "    var jsonData = pm.response.json();",
                  "pm.environment.set(\"kid\", jsonData.keys[0].kid);",
                  "console.log(\"element\"+pm.environment.get(\"kid\"));",
                  "",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "71b5d4c1-0991-467c-be30-9e6b0364247a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "",
                "value": "",
                "type": "text",
                "disabled": true
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"keys\": [\n              {\n            \"kty\": \"RSA\",\n            \"x5t#S256\": \"DX0GVsh7B7h7-Ay7IwUQYtHYEoobGlGxrtd3w_A6Cz8\",\n            \"e\": \"AQAB\",\n            \"use\": \"sig\",\n            \"kid\": \"1554383620002867819762479\",\n            \"x5c\": [\n                \"MIIFETCCA/mgAwIBAgILAUknTgzjO5360y8wDQYJKoZIhvcNAQELBQAwUTELMAkGA1UEBhMCTk8xHTAbBgNVBAoMFEJ1eXBhc3MgQVMtOTgzMTYzMzI3MSMwIQYDVQQDDBpCdXlwYXNzIENsYXNzIDMgVGVzdDQgQ0EgMzAeFw0xNzA2MTIwODU2MTFaFw0yMDA2MTIyMTU5MDBaMHcxCzAJBgNVBAYTAk5PMSwwKgYDVQQKDCNESVJFS1RPUkFURVQgRk9SIEZPUlZBTFROSU5HIE9HIElLVDESMBAGA1UECwwJT0lEQyB0ZXN0MRIwEAYDVQQDDAlESUZJIFRFU1QxEjAQBgNVBAUTCTk5MTgyNTgyNzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANgnUbiXPmgA8OBxnPa4ZlRHKNSiR1OQIj1wYKHrz4U1HoWmG5+VTZPXbhmRx20lGqQWrC0mqV2l/BrSTTpMumotPMWMQMmlUwWq0AXdQDx3H5BGYa66sV56xIvC4lzKI2EAGjsxdde8Xw7aypE5uJ/OVMycb/w6lqoDis8tHxiN0K4Z+IlULvpfCY56P7C+cuSzFU7UYkjbz9+XuWZlgJFfw2jAAXg6szzZ+lvleAI+6oUu3HfpnuJeBRO/xfDvkc/0cIPFRHAEeZ8nQwbsEi+OVSEFyYntSW3S0Pb9YmJk0CIiucLnVXJ5VBwyl6WsbDrckYd6JOmbXJGET/NtehMCAwEAAaOCAcIwggG+MAkGA1UdEwQCMAAwHwYDVR0jBBgwFoAUP671eAuSo3AgNV9a+vckoFIB8EEwHQYDVR0OBBYEFEeyddtKkcdiyFtyvb1nZwwEbnTAMA4GA1UdDwEB/wQEAwIGQDAWBgNVHSAEDzANMAsGCWCEQgEaAQADAjCBuwYDVR0fBIGzMIGwMDegNaAzhjFodHRwOi8vY3JsLnRlc3Q0LmJ1eXBhc3Mubm8vY3JsL0JQQ2xhc3MzVDRDQTMuY3JsMHWgc6Bxhm9sZGFwOi8vbGRhcC50ZXN0NC5idXlwYXNzLm5vL2RjPUJ1eXBhc3MsZGM9Tk8sQ049QnV5cGFzcyUyMENsYXNzJTIwMyUyMFRlc3Q0JTIwQ0ElMjAzP2NlcnRpZmljYXRlUmV2b2NhdGlvbkxpc3QwgYoGCCsGAQUFBwEBBH4wfDA7BggrBgEFBQcwAYYvaHR0cDovL29jc3AudGVzdDQuYnV5cGFzcy5uby9vY3NwL0JQQ2xhc3MzVDRDQTMwPQYIKwYBBQUHMAKGMWh0dHA6Ly9jcnQudGVzdDQuYnV5cGFzcy5uby9jcnQvQlBDbGFzczNUNENBMy5jZXIwDQYJKoZIhvcNAQELBQADggEBAEcjKqJu3NoaOECYTek66wNfjW9iRz0VYLlpbc5AFEc2cuEiewNR6Sh0Mo4TfxZDVAli2ZiEWc+rlvFaS2hbebR+bKUryPcVFSCAtC72D4ja6zMju+NpvEetTn6k81Wgfsgjx6XNjJYc/6QNjvT4N22adEwyMvhE8ljkSg4d/udQyi2DQdHt0Shq/WK068N+hKRg+RIIdCu6Il9FSndyYO0azWZpcjujHVH7p8qKVZ58G87HDiC6FcpeZBOmzT/O7XiSy141U43JeFKBXkVupC0OYPosYGPnmzExqWLybgkbO/dSl8oDTzIIifvxyCd2iMEAc07+OuEefETzAxjqBHM=\"\n            ],\n            \"n\": \"2CdRuJc-aADw4HGc9rhmVEco1KJHU5AiPXBgoevPhTUehaYbn5VNk9duGZHHbSUapBasLSapXaX8GtJNOky6ai08xYxAyaVTBarQBd1APHcfkEZhrrqxXnrEi8LiXMojYQAaOzF117xfDtrKkTm4n85UzJxv_DqWqgOKzy0fGI3Qrhn4iVQu-l8Jjno_sL5y5LMVTtRiSNvP35e5ZmWAkV_DaMABeDqzPNn6W-V4Aj7qhS7cd-me4l4FE7_F8O-Rz_Rwg8VEcAR5nydDBuwSL45VIQXJie1JbdLQ9v1iYmTQIiK5wudVcnlUHDKXpaxsOtyRh3ok6ZtckYRP8216Ew\"\n        }\n    ]\n}"
            },
            "url": "{{sp_backend}}/serviceprovider/oidc/{{clientId}}/jwks"
          },
          "response": []
        },
        {
          "name": "sp-backend: GET JWKS",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f5d39f99-3660-4885-824b-e17d4ca288d3",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8686fe49-4ff4-4b0e-985e-15083e08e6ee",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"hello\"}"
            },
            "url": "{{sp_backend}}/serviceprovider/oidc/{{clientId}}/jwks"
          },
          "response": []
        },
        {
          "name": "sp-backend: GET JWK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "785fd177-51bf-430d-9d8b-623a00227bc6",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3ba3e8ea-2591-4b22-be07-dbb75f7c2145",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"hello\"}"
            },
            "url": "{{sp_backend}}/serviceprovider/oidc/{{clientId}}/jwks/{{kid}}"
          },
          "response": []
        },
        {
          "name": "sp-backend: GET JWK invalid client id",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "785fd177-51bf-430d-9d8b-623a00227bc6",
                "exec": [
                  "pm.test(\"GET JWK failed because of invalid client id\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b06fdc72-b764-47f5-9774-41bab15ecb98",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"hello\"}"
            },
            "url": "{{sp_backend}}/serviceprovider/oidc/test_rp_systestt/jwks/{{kid}}"
          },
          "response": []
        },
        {
          "name": "sp-backend: GET JWK feil kid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "785fd177-51bf-430d-9d8b-623a00227bc6",
                "exec": [
                  "pm.test(\"GET JWK failed because of invalid KID\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "de758e1f-85aa-4e87-86b4-746648d6454f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{access_token_sp}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"hello\"}"
            },
            "url": "{{sp_backend}}/serviceprovider/oidc/{{clientId}}/jwks/1"
          },
          "response": []
        },
        {
          "name": "sp-backend: DELETE NonExistent Client in JWKS",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7abc0d29-9fae-437a-8aae-1807e7c5168b",
                "exec": [
                  "pm.test(\"DELETE call should give  404 for NonExistent ClientID in JWKS\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7efe1527-c6bf-4481-bb42-4ec7904cc5dd",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "oauth2",
              "oauth2": {
                "accessToken": "eyJraWQiOiJBTUhVZWpoMnJWLUpCMU4teWJUVjhLNmQ5QlRFUEhEaTBYR29xUGxuNXprIiwiYWxnIjoiUlMyNTYifQ.eyJhdWQiOiJ0ZXN0X3JwX3N5c3Rlc3QiLCJzdWIiOiJWLVpId2J6eUNLLXNvaGpIbEZzeDFTRkk4QnV2TWEyd0NxSGVzbGY0N3hnPSIsImFjciI6IkxldmVsMyIsInNjb3BlIjoiaWRwb3J0ZW46ZGNyLnJlYWQgb3BlbmlkIHByb2ZpbGUiLCJpc3MiOiJodHRwczpcL1wvZWlkLXN5c3Rlc3Qtd2ViMDEuZG16LmxvY2FsXC9pZHBvcnRlbi1vaWRjLXByb3ZpZGVyXC8iLCJwaWQiOiIyMzA3OTQyMDIwNCIsInRva2VuX3R5cGUiOiJCZWFyZXIiLCJleHAiOjE1NTIwNTcwODYsImlhdCI6MTU1MjA1MzQ4OCwiY2xpZW50X29yZ25vIjoiOTkxODI1ODI3IiwianRpIjoicTNOZkhER21fdm9pYmtCN0RuWXY2c0lhUGxOaXZZLUJrZ1JOTGluUTlWVT0ifQ.kj6CcaHNBmc9cVs5Uu0d1HazdP92md9dGZR3zxbIsY-IVTNnDRE68jwbAen_8yUFeV-lobK--B18tsrK9SXwxzMGrsbGheb6hFkXWb9nO6103RLPjAobRhVHulVi5qBz8AftN4G1o_QfxwiTeHEa5-DXzF4nx7Jur9XRxHJXgWCR7SS7-jrhcDnlKF7Hfk1QRg3boLk-xrrfKijciRlIpO6-Gy5VQuev8zJ2rPM-Bml6m_4MFf2X0JDMJ8il88IGSzO_4Oe6mZs9N28wmpJaXF6Cjs45s9YEBioR3OebTtmXc1wG_G5AABHZ1rrcXeMmbS3SuZc3mGhYcz8cDtg--g",
                "addTokenTo": "header"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"hello\"}"
            },
            "url": "{{sp_backend}}/serviceprovider/oidc/tempclient/jwks"
          },
          "response": []
        },
        {
          "name": "sp-backend: DELETE JWKS",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7abc0d29-9fae-437a-8aae-1807e7c5168b",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "22ff49d2-61d1-4a71-90bc-e8e15f937720",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"hello\"}"
            },
            "url": "{{sp_backend}}/serviceprovider/oidc/{{clientId}}/jwks"
          },
          "response": []
        }
      ],
      "_postman_id": "fcb12713-e4f6-4475-af2d-28264ab14708"
    },
    {
      "name": "Hente gyldig accesstoken med feil scope",
      "item": [
        {
          "name": "seleniumsession",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d8b2c24d-e0ff-4735-a53e-d1fd6c1e91b7",
                "exec": [
                  "var jsonData=pm.response.json();",
                  "pm.globals.set(\"session\",jsonData.sessionId);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8641cf0c-3e58-4cd9-9383-6073424d446e",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}"
            },
            "url": "http://localhost:9515/session",
            "description": "\n"
          },
          "response": []
        },
        {
          "name": "redirecturl",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f32d6f05-2e34-4788-9d50-03fd801eb09e",
                "exec": [
                  "",
                  "pm.environment.get(\"oidc_url_serviceprovider\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "46c60238-6179-4c1a-b0a9-ea280a88bade",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"url\":\"{{idporten_oidc_client_url}}\"}\n"
            },
            "url": "http://localhost:9515/session/{{session}}/url"
          },
          "response": []
        },
        {
          "name": "findclientelementid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
                "exec": [
                  "pm.test(\"find element id for client_id \", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"clientid\", jsonData.value.ELEMENT);",
                  " ",
                  "console.log(pm.globals.get(\"clientid\"));",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4ff311ec-c830-443a-99eb-7e0bef506418",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"name\",\"value\":\"client_id\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "selectdropdown",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a9c5f504-80da-4b67-bd66-86c7cb3558c4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "57142dc8-3b0f-4908-988d-1e8584ace3ef",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/click"
          },
          "response": []
        },
        {
          "name": "selectclientid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "93942b66-73f7-40cd-816a-8f6eac550aec",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "83264afd-e813-475b-8aa6-c63e774c1550",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"\\uE015\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
          },
          "response": []
        },
        {
          "name": "selectclientid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "93942b66-73f7-40cd-816a-8f6eac550aec",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a4f2c7c0-dbbf-4c08-a4dd-b777ba00fef8",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"\\uE015\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
          },
          "response": []
        },
        {
          "name": "clickenter",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "93942b66-73f7-40cd-816a-8f6eac550aec",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8b6fc654-3521-4341-bb61-7887742b78d4",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"\\uE007\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
          },
          "response": []
        },
        {
          "name": "findscopeid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
                "exec": [
                  "pm.test(\"Scope element id\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"scope\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b164038a-7cfd-4d4d-a979-a4f78ea10687",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"name\",\"value\":\"scope\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "setscope",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e65befc8-4e49-43f6-a2bc-3ebfdc77a6dc",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "93766985-39f9-4837-9600-f03adc8f66bf",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"    idporten:dcr.read idporten:scopes.read\" ]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{scope}}/value"
          },
          "response": []
        },
        {
          "name": "findloginelementid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
                "exec": [
                  "pm.test(\"Your test name\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"loginid\", jsonData.value.ELEMENT);",
                  "",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e56f15e3-dda3-4ad3-9f30-2566abed6701",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"login\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "clicklogin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a9c5f504-80da-4b67-bd66-86c7cb3558c4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "5f95f475-e14e-4a9f-9448-803200c232cd",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "55018ce8-936d-4a9b-a422-8a8c77859e4a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{loginid}}/click"
          },
          "response": []
        },
        {
          "name": "elementonthispage",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4d4bd4ba-154b-4b05-923d-64e1d36be0a1",
                "exec": [
                  "pm.test(\"element if for MinID \", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"minid_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "effbe724-b623-4548-b623-4d7bb16d6dfd",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/x-www-form-urlencoded",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"MinIDChain\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "clickonminid",
          "_postman_id": "d160ddef-2978-466b-907e-f9564cb32a6a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{minid_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "getelementidssn",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "189f83ec-8efd-438c-b133-0fbc201abad0",
                "exec": [
                  "var jsonData = pm.response.json();",
                  " pm.globals.set(\"ssn_elementid\", jsonData.value.ELEMENT);",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "47f2ea3b-1f5a-4173-9b44-6a07c9dcd416",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"input_USERNAME_IDPORTEN\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "getelementidpassword",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8929c791-35e2-41f7-8b0b-8678e9309e58",
                "exec": [
                  "var jsonData = pm.response.json();",
                  " pm.globals.set(\"password_elementid\", jsonData.value.ELEMENT);",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1ed5c563-27e5-468c-b976-1b6a96a13514",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"input_PASSWORD_IDPORTEN\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "setssn",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e65befc8-4e49-43f6-a2bc-3ebfdc77a6dc",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e55abeb5-6934-4829-bcc2-ac64db858b5f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"{{ssn}}\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{ssn_elementid}}/value"
          },
          "response": []
        },
        {
          "name": "setpassword",
          "_postman_id": "8f98c27e-dc51-423e-a5c6-853c48739fb2",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"password01\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{password_elementid}}/value"
          },
          "response": []
        },
        {
          "name": "submit",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d4ee6a6d-0d1e-4948-aaa6-a2829f185475",
                "exec": [
                  "pm.test(\"next_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"next_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "318be2e7-2de1-4a09-827b-58ce78469e12",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "clicksubmit",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e75ea17b-88ea-4c32-b35f-8758d03c48c1",
                "exec": [
                  "setTimeout(checkStatusCode, 500);\r",
                  "\r",
                  "    function checkStatusCode() {\r",
                  "\r",
                  "        pm.sendRequest('https://postman-echo.com/get', function (err, res) {\r",
                  "\r",
                  "            tests['status code should be 200']= res.code ===200;\r",
                  "\r",
                  "        });\r",
                  "    }"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "aeba65ae-2e13-4503-9bf4-cc9d7881973a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{next_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "pinnumberid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "49f2b57c-29a8-41bf-9041-7400083bf039",
                "exec": [
                  "pm.test(\"pin_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"pin_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "db272708-95fb-4309-89cf-3b58b3f18bf4",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"input_PINCODE1_IDPORTEN\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "setppin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "95b50532-96b7-405c-afd1-52b576a70e9f",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4acf5306-aa4c-412e-81b0-6360f7874876",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"value\":[\"12345\"]}"
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{pin_elementid}}/value"
          },
          "response": []
        },
        {
          "name": "getsubmitid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02b4c223-cb45-4310-b064-d60510887571",
                "exec": [
                  "pm.test(\"submit_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"submit_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5686c4ad-953a-4ea6-8dd6-64c4c89abcf2",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "finalsubmit ",
          "_postman_id": "0d6b1373-337d-49c6-9010-373950641937",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{submit_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "getconsentid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02b4c223-cb45-4310-b064-d60510887571",
                "exec": [
                  "pm.test(\"consent_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"consent_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0d798a6d-2fc8-47ea-a8f3-1a9ddcd2f29d",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"name\",\"value\":\"consentAccepted\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "acceptconsent",
          "_postman_id": "3f80799e-f293-45e6-8b6a-b814e7196dce",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "file",
              "file": {
                "src": ""
              }
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{consent_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "gettokenid",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02b4c223-cb45-4310-b064-d60510887571",
                "exec": [
                  "pm.test(\"token_elementid\", function () {",
                  "    var jsonData = pm.response.json();",
                  " pm.globals.set(\"token_elementid\", jsonData.value.ELEMENT);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a82c1a8c-1d97-4dc0-b60e-d678d123c649",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"using\":\"id\",\"value\":\"get-tokens\"}"
            },
            "url": "http://localhost:9515/session/{{session}}/element"
          },
          "response": []
        },
        {
          "name": "henttoken",
          "_postman_id": "8eaab8e2-16b9-4330-acb6-1c5b0f72aeb3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "file",
              "file": {}
            },
            "url": "http://localhost:9515/session/{{session}}/element/{{token_elementid}}/click"
          },
          "response": []
        },
        {
          "name": "getTokensElements",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02b4c223-cb45-4310-b064-d60510887571",
                "exec": [
                  "pm.test(\"tokens\", function () {",
                  " var jsonData = pm.response.json();",
                  " console.log('tokens test jsonData',jsonData);",
                  " var tokens=jsonData.value;",
                  "  console.log('tokens test tokens',tokens);",
                  " var temptoken=tokens.split('access_token:').pop();",
                  "   console.log('tokens test temptoken',temptoken);",
                  " var refreshtokenpos=temptoken.lastIndexOf(\"refresh_token:\");",
                  "    console.log('tokens test refreshtokenpos',refreshtokenpos);",
                  " var token = temptoken.substring(1,refreshtokenpos-1);    ",
                  " pm.environment.set(\"invalid_access_token_sp\", token);",
                  "     console.log('invalid tokens test token',token);",
                  "console.log('invalid_access_token_sp',pm.environment.get(\"invalid_access_token_sp\"));",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a59f9a48-f17f-46dc-88b3-e5723a3a172c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "http://localhost:9515/session/{{session}}/source"
          },
          "response": []
        }
      ],
      "_postman_id": "d8e80a19-6800-4175-8f51-034b10d93620"
    },
    {
      "name": "oidc-controller negative tests",
      "item": [
        {
          "name": "oidc-client-controller",
          "item": [
            {
              "name": "/clients",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "81193e3f-c47b-4c82-b2e3-b07850b74304",
                    "exec": [
                      "pm.test(\"Get Clients \", function () {",
                      "        ",
                      "pm.response.to.have.status(200);",
                      "var jsonData = pm.response.json();",
                      "console.log(\"clients \",jsonData);",
                      "",
                      "});",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "71df21c3-6cee-487b-93dd-b7f740e5cc5e",
                    "exec": [
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "e25c7a40-ecd0-46a0-bf9f-94b94c03354c",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{invalid_access_token_sp}}"
                  }
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{serviceprovider_api}}/clients?inactive=false",
                  "host": [
                    "{{serviceprovider_api}}"
                  ],
                  "path": [
                    "clients"
                  ],
                  "query": [
                    {
                      "key": "inactive",
                      "value": "false"
                    }
                  ]
                },
                "description": "Optional attributt \"inactive\" [true|false] som filtreringsparameter"
              },
              "response": []
            },
            {
              "name": "/clients",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d3d45bdc-d96a-4461-965a-a4858d750ff3",
                    "exec": [
                      "pm.test(\"Access is denied\", function () {",
                      "    pm.response.to.have.status(403);",
                      "});",
                      "",
                      "pm.test(\"Error description\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    console.log(\"error\",jsonData.error);",
                      "    console.log(\"error_description\",jsonData.error_description);",
                      "",
                      "}",
                      "",
                      ");"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "1b75737a-d097-4e60-96ea-f20d163e862c",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{invalid_access_token_sp}}"
                  }
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "type": "text",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"client_name\": \"knut-oidc-test\",\n    \"description\": \"Knut sin testklient oidc\",\n    \"authorization_lifetime\": 3600,\n    \"access_token_lifetime\": 3600,\n    \"refresh_token_lifetime\": 3600,\n    \"client_type\": \"PUBLIC\",\n    \"token_reference\": \"OPAQUE\",\n    \"refresh_token_usage\": \"ONETIME\",\n    \"frontchannel_logout_session_required\": false,\n    \"force_pkce\": false,\n    \"client_id\": \"123456789\",\n    \"client_orgno\": null,\n    \"client_uri\": \"https://wwww.knut.no\",\n    \"supplier_orgno\": null,\n    \"active\": false,\n    \"default_scopes\": [],\n    \"logo_uri\": \"bilde.gif\",\n    \"grant_types\": [\"urn:ietf:params:oauth:grant-type:jwt-bearer\"],\n    \"last_updated\": \"2019-03-21T17:03:59.583+01:00\",\n    \"created\": \"2019-03-08T15:50:40.540+01:00\"\n}"
                },
                "url": "{{serviceprovider_api}}/clients"
              },
              "response": []
            },
            {
              "name": "/clients/{id}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cd27aa17-bac8-4ef4-85c7-a38399314692",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"/get clients \", function () {",
                      "    var jsonData = pm.response.json();",
                      "   console.log(\"get clients \",jsonData.value);",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "336c35c9-b7a3-40ac-b1b9-798f602b8a50",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{invalid_access_token_sp}}"
                  }
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{serviceprovider_api}}/clients/{{sp_client_id}}?inactive=true",
                  "host": [
                    "{{serviceprovider_api}}"
                  ],
                  "path": [
                    "clients",
                    "{{sp_client_id}}"
                  ],
                  "query": [
                    {
                      "key": "inactive",
                      "value": "true"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "/clients/{id}/secret",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9f3a50e-fc94-4689-9f9f-b8381510c971",
                    "exec": [
                      "pm.test(\"Status code is 403\", function () {",
                      "    pm.response.to.have.status(403);",
                      "});",
                      "",
                      "pm.test(\"Error description\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    console.log(\"error\",jsonData.error);",
                      "    console.log(\"error_description\",jsonData.error_description);",
                      "",
                      "}",
                      "",
                      ");"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "3144ed3e-1bb4-4494-9f2b-e16df8501692",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{invalid_access_token_sp}}"
                  }
                },
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "url": "{{serviceprovider_api}}/clients/test11/secret"
              },
              "response": []
            },
            {
              "name": "/clients",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8881322-43a7-4570-bdd3-88d8f73c9a97",
                    "exec": [
                      "pm.test(\"Status code is 403\", function () {",
                      "    pm.response.to.have.status(403);",
                      "});",
                      "",
                      "pm.test(\"Error description\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    console.log(\"error\",jsonData.error);",
                      "    console.log(\"error_description\",jsonData.error_description);",
                      "",
                      "}",
                      "",
                      ");"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "556e6ed4-69ae-456e-86e1-6c055ca28799",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{invalid_access_token_sp}}"
                  }
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "type": "text",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"client_name\": \"oidc_testautomasjon_test3\",\n    \"description\": \"cucumber-creating_oidc_client_for_postman\",\n\t\"grant_types\": [\"urn:ietf:params:oauth:grant-type:jwt-bearer\"],    \n    \"scopes\": [\n        \"openid\",\n        \"profile\"\n    ]\n}"
                },
                "url": "{{serviceprovider_api}}/clients/test12"
              },
              "response": []
            },
            {
              "name": "/clients/{id}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "587a4b78-014f-4a13-85c8-147881ab6d24",
                    "exec": [
                      "pm.test(\"Status code is 403\", function () {",
                      "    pm.response.to.have.status(403);",
                      "});",
                      "pm.test(\"Error description\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    console.log(\"error\",jsonData.error);",
                      "    console.log(\"error_description\",jsonData.error_description);",
                      "",
                      "}",
                      "",
                      ");"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "fe8e5ac7-a679-4bc0-939f-fb99f43319bc",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{invalid_access_token_sp}}"
                  }
                },
                "method": "DELETE",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "type": "text",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "url": "{{serviceprovider_api}}/clients/tetsts"
              },
              "response": []
            }
          ],
          "_postman_id": "0012fd51-f5de-4292-bd8c-f52e9ca47996",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "8e6df318-4559-4430-929b-f60841bc276e",
                "type": "text/javascript",
                "exec": [
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a772d638-b89f-4d6a-96ca-c77af18fe48c",
                "type": "text/javascript",
                "exec": [
                  ""
                ]
              }
            }
          ],
          "_postman_isSubFolder": true
        },
        {
          "name": "scope-controller failed tests",
          "item": [
            {
              "name": "/scopes{?inactive, scope}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d7ebcdef-b67e-44df-82ec-bfecebf423ba",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "6e5de556-24e3-4412-8f64-b3444f412483",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{invalid_access_token_sp}}"
                  }
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{serviceprovider_api}}/scopes?scope=eldar:public",
                  "host": [
                    "{{serviceprovider_api}}"
                  ],
                  "path": [
                    "scopes"
                  ],
                  "query": [
                    {
                      "key": "scope",
                      "value": "eldar:public"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "/scopes/all{?inactive, prefix}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6a4263b9-6576-4699-8210-49731135db5c",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "65fd4aaf-e6b3-4c81-8ab7-6daafbd7f735",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{serviceprovider_api}}/scopes/all?inactive=true",
                  "host": [
                    "{{serviceprovider_api}}"
                  ],
                  "path": [
                    "scopes",
                    "all"
                  ],
                  "query": [
                    {
                      "key": "inactive",
                      "value": "true"
                    },
                    {
                      "key": "prefix",
                      "value": "eldar",
                      "disabled": true
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "/scopes",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6a195b5-bf4d-4ef3-86ee-caa0a790f584",
                    "exec": [
                      "pm.test(\"Post operation skal feiler fordi token har ingen modify scopeen\", function () {",
                      "    pm.response.to.have.status(403);",
                      "var jsonData=pm.response.json();",
                      "pm.globals.set(\"new_scope\",jsonData.name);",
                      "console.log(\"new scope \",pm.globals.get(\"new_scope\"));",
                      "        ",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "0eddb88c-b1e7-4d8b-8c21-f833f21dfba5",
                    "exec": [
                      "postman.setGlobalVariable('ran', Math.floor(Math.random() * 5000));"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "229b72e2-964c-4095-8769-ba4277de2625",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{invalid_access_token_sp}}"
                  }
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n\t\n    \"name\": \"tullenamn:eldar\",\n    \"active\": true,\n    \"prefix\": \"eldar\",\n    \"subscope\": \"nyttscope1{{ran}}\",\n    \"description\": \"Dette er Knut sitt interne scope\",\n    \"visibility\": \"PUBLIC\",\n    \"last_updated\": \"2019-02-08T09:09:12.057+01:00\",\n    \"created\": \"2019-02-07T10:47:00.086+01:00\",\n    \"owner_orgno\": \"991825827\",\n   \"token_type\": \"SELF_CONTAINED\"\n\n}"
                },
                "url": "{{serviceprovider_api}}/scopes"
              },
              "response": []
            },
            {
              "name": "/scopes/access{?consumer_orgno, owner_orgno, inactive, scope*}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4459e122-5953-49a3-9e48-5d9cf7beb2fe",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "56dc767b-0cbe-4dc8-b2c1-0213879a9869",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{invalid_access_token_sp}}"
                  }
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{serviceprovider_api}}/scopes/access?=true&inactive=true&scope=test2",
                  "host": [
                    "{{serviceprovider_api}}"
                  ],
                  "path": [
                    "scopes",
                    "access"
                  ],
                  "query": [
                    {
                      "key": "consumer_orgno",
                      "value": "",
                      "disabled": true
                    },
                    {
                      "key": "owner_orgno",
                      "value": "889640782",
                      "disabled": true
                    },
                    {
                      "key": "",
                      "value": "true"
                    },
                    {
                      "key": "inactive",
                      "value": "true"
                    },
                    {
                      "key": "scope",
                      "value": "test2"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Put /scopes{?scope}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(403);",
                      "    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
                      "console.log(\"body : \" + request.data);",
                      "console.log(\"url : \" + request.url);",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "43f5a6db-c56e-4fe4-befc-b5693d7e0f6e",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{invalid_access_token_sp}}"
                  }
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"eldar:nyttscope13199\",\n    \"active\": true,\n    \"prefix\": \"eldar\",\n    \"subscope\": \"nyttscope13199\",\n    \"description\": \"Dette er Knut sitt interne scope\",\n    \"visibility\": \"INTERNAL\",\n    \"last_updated\": \"2019-08-02T11:47:51.630+02:00\",\n    \"created\": \"2019-08-02T11:47:51.630+02:00\",\n    \"owner_orgno\": \"991825827\",\n    \"token_type\": \"SELF_CONTAINED\"\n}"
                },
                "url": {
                  "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope}}",
                  "host": [
                    "{{serviceprovider_api}}"
                  ],
                  "path": [
                    "scopes"
                  ],
                  "query": [
                    {
                      "key": "scope",
                      "value": "{{new_scope}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "/scopes/access/all{?inactive}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c1960a1d-9b2f-4c60-9edf-9a122f03c397",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "44f2bc72-875a-4faf-9e4c-4c1340238bd1",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{serviceprovider_api}}/scopes/access/all?inactive=true",
                  "host": [
                    "{{serviceprovider_api}}"
                  ],
                  "path": [
                    "scopes",
                    "access",
                    "all"
                  ],
                  "query": [
                    {
                      "key": "inactive",
                      "value": "true"
                    }
                  ]
                }
              },
              "response": []
            }
          ],
          "_postman_id": "2014e2cd-f7ff-4cf6-b389-fce544ca1840",
          "_postman_isSubFolder": true
        }
      ],
      "_postman_id": "df251202-d792-4f00-9a4a-eb898e9da97a",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "8e6df318-4559-4430-929b-f60841bc276e",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "a772d638-b89f-4d6a-96ca-c77af18fe48c",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "name": "scope tilgangstyring",
      "item": [
        {
          "name": "ny klient registrering",
          "item": [
            {
              "name": "Hente gyldig accesstoken med riktig scopen",
              "item": [
                {
                  "name": "postreq",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "713e1a24-6a6c-4137-b6ec-ec8c924b3c95",
                        "exec": [
                          "var jsonData=pm.response.json();",
                          "pm.globals.set(\"session\",jsonData.sessionId);",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "40e781d0-edf0-40e6-9095-54144f711950",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}"
                    },
                    "url": "http://localhost:9515/session"
                  },
                  "response": [
                    {
                      "id": "afca4b74-6bca-4803-acac-2afceefb766b",
                      "name": "postreq",
                      "originalRequest": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Content-Type",
                            "name": "Content-Type",
                            "value": "application/json",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n\r\n        }\r\n    }\r\n}"
                        },
                        "url": "http://localhost:9515/session"
                      },
                      "status": "OK",
                      "code": 200,
                      "_postman_previewlanguage": "Text",
                      "header": [],
                      "cookie": [],
                      "responseTime": null,
                      "body": ""
                    }
                  ]
                },
                {
                  "name": "navigatetooidcclienturl",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "tests[\"sessionId\"]=responseBody.has(\"sessionId\");",
                          "tests[\"client_id is status\"]=responseBody.has(\"status\");",
                          "tests[\"value\"]=responseBody.has(\"value\");",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "639e7d3e-71cd-4cb1-b3ca-6ace01c7bb85",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"url\":\"{{idporten_oidc_client_url}}\"}\n"
                    },
                    "url": "http://localhost:9515/session/{{session}}/url"
                  },
                  "response": []
                },
                {
                  "name": "findclientelementid",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
                        "exec": [
                          "pm.test(\"find element id for client_id \", function () {",
                          "    var jsonData = pm.response.json();",
                          "    ",
                          "pm.environment.unset(\"client_id\");",
                          "",
                          " pm.environment.set(\"client_id\", jsonData.value.ELEMENT);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "401dff8b-373b-4be4-8201-b415dfba1339",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"name\",\"value\":\"client_id\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "selectdropdown",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "a9c5f504-80da-4b67-bd66-86c7cb3558c4",
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "33e60be5-7007-4842-abbb-021e7098df0c",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{client_id}}/click"
                  },
                  "response": []
                },
                {
                  "name": "selectclientid",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "93942b66-73f7-40cd-816a-8f6eac550aec",
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "66ac9b69-bb50-4a64-b6b9-e7a233a3d1ec",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"value\":[\"\\uE015\"]}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{client_id}}/value"
                  },
                  "response": []
                },
                {
                  "name": "selectclientid",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "93942b66-73f7-40cd-816a-8f6eac550aec",
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "b5991152-68b4-4c39-8bd6-9de93f1001c7",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"value\":[\"\\uE015\"]}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
                  },
                  "response": []
                },
                {
                  "name": "selectclientid",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "93942b66-73f7-40cd-816a-8f6eac550aec",
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "179a71a1-b974-4ba8-96cf-8f9be7f875d9",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"value\":[\"\\uE015\"]}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{clientid}}/value"
                  },
                  "response": []
                },
                {
                  "name": "clickenter",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "93942b66-73f7-40cd-816a-8f6eac550aec",
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "a7cd8318-59eb-4b18-8157-90ea07b41695",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"value\":[\"\\uE007\"]}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{client_id}}/value"
                  },
                  "response": []
                },
                {
                  "name": "findscopeid",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
                        "exec": [
                          "pm.test(\"Scope element id\", function () {",
                          "    var jsonData = pm.response.json();",
                          " pm.globals.set(\"scope\", jsonData.value.ELEMENT);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "97e2ec02-55f5-409b-849a-f30a8e7a5be0",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"name\",\"value\":\"scope\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "setscope",
                  "event": [
                    {
                      "listen": "prerequest",
                      "script": {
                        "id": "e65befc8-4e49-43f6-a2bc-3ebfdc77a6dc",
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "6c91f516-bae4-4377-805f-d051069f6c9a",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"value\":[\"   idporten:authorizations.revoke idporten:user.log.read krr:user.log.all.read idporten:dcr.read idporten:dcr.write idporten:dcr.modify idporten:scopes.write idporten:scopes.read\"]}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{scope}}/value"
                  },
                  "response": []
                },
                {
                  "name": "findloginelementid",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
                        "exec": [
                          "pm.test(\"Your test name\", function () {",
                          "    var jsonData = pm.response.json();",
                          " pm.globals.set(\"loginid\", jsonData.value.ELEMENT);",
                          "",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "0a7dd1b4-f0e1-453c-8e90-32f267c4faf6",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"id\",\"value\":\"login\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "clicklogin",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "a9c5f504-80da-4b67-bd66-86c7cb3558c4",
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "id": "5f95f475-e14e-4a9f-9448-803200c232cd",
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "a58b3a3f-01cd-4852-85a9-cd119a3259f8",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{loginid}}/click"
                  },
                  "response": []
                },
                {
                  "name": "elementonthispage",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "4d4bd4ba-154b-4b05-923d-64e1d36be0a1",
                        "exec": [
                          "pm.test(\"Your test name\", function () {",
                          "    var jsonData = pm.response.json();",
                          " pm.globals.set(\"minid_elementid\", jsonData.value.ELEMENT);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "a34e0f1f-9584-446a-912e-c4fe663575c4",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/x-www-form-urlencoded",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"id\",\"value\":\"MinIDChain\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "clickonminid",
                  "_postman_id": "2ab02278-a910-428c-9e46-3a1a46176b97",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{minid_elementid}}/click"
                  },
                  "response": []
                },
                {
                  "name": "getelementidssn",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "189f83ec-8efd-438c-b133-0fbc201abad0",
                        "exec": [
                          "var jsonData = pm.response.json();",
                          " pm.globals.set(\"ssn_elementid\", jsonData.value.ELEMENT);",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "b11b8755-b90d-42f1-bd26-b62ae9fa54d5",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"id\",\"value\":\"input_USERNAME_IDPORTEN\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "getelementidpassword",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "8929c791-35e2-41f7-8b0b-8678e9309e58",
                        "exec": [
                          "var jsonData = pm.response.json();",
                          " pm.globals.set(\"password_elementid\", jsonData.value.ELEMENT);",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "07ea68cd-ddde-4c76-a441-0b743c56307e",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"id\",\"value\":\"input_PASSWORD_IDPORTEN\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "setssn",
                  "event": [
                    {
                      "listen": "prerequest",
                      "script": {
                        "id": "e65befc8-4e49-43f6-a2bc-3ebfdc77a6dc",
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "19ade671-285f-4bbe-ad46-c0b9b0f26363",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"value\":[\"{{ssn}}\"]}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{ssn_elementid}}/value"
                  },
                  "response": []
                },
                {
                  "name": "setpassword",
                  "_postman_id": "0efbd9fe-e721-4eea-9b0e-b7b40db40bfa",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"value\":[\"password01\"]}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{password_elementid}}/value"
                  },
                  "response": []
                },
                {
                  "name": "submit",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "d4ee6a6d-0d1e-4948-aaa6-a2829f185475",
                        "exec": [
                          "pm.test(\"next_elementid\", function () {",
                          "    var jsonData = pm.response.json();",
                          " pm.globals.set(\"next_elementid\", jsonData.value.ELEMENT);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "8d1399ab-391a-42f3-9a2e-10735c05be77",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "clicksubmit",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "e75ea17b-88ea-4c32-b35f-8758d03c48c1",
                        "exec": [
                          "setTimeout(checkStatusCode, 500);\r",
                          "\r",
                          "    function checkStatusCode() {\r",
                          "\r",
                          "        pm.sendRequest('https://postman-echo.com/get', function (err, res) {\r",
                          "\r",
                          "            tests['status code should be 200']= res.code ===200;\r",
                          "\r",
                          "        });\r",
                          "    }"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "98a77842-6290-40b7-af3b-b0eed8a8fb92",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{next_elementid}}/click"
                  },
                  "response": []
                },
                {
                  "name": "pinnumberid",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "49f2b57c-29a8-41bf-9041-7400083bf039",
                        "exec": [
                          "pm.test(\"pin_elementid\", function () {",
                          "    var jsonData = pm.response.json();",
                          " pm.globals.set(\"pin_elementid\", jsonData.value.ELEMENT);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "c461a6cf-8095-4625-8abb-6229a3e28742",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"id\",\"value\":\"input_PINCODE1_IDPORTEN\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "setppin",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "95b50532-96b7-405c-afd1-52b576a70e9f",
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "f8e4e86e-11a9-49bc-ba46-368d9a377f30",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"value\":[\"12345\"]}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{pin_elementid}}/value"
                  },
                  "response": []
                },
                {
                  "name": "getsubmitid",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "02b4c223-cb45-4310-b064-d60510887571",
                        "exec": [
                          "pm.test(\"submit_elementid\", function () {",
                          "    var jsonData = pm.response.json();",
                          " pm.globals.set(\"submit_elementid\", jsonData.value.ELEMENT);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "5cd2ab3a-5d73-4a8a-8ead-df529c663614",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "finalsubmit ",
                  "_postman_id": "12d404a5-668b-48ed-8d89-905684e32ab6",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{submit_elementid}}/click"
                  },
                  "response": []
                },
                {
                  "name": "getconsentid",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "02b4c223-cb45-4310-b064-d60510887571",
                        "exec": [
                          "pm.test(\"consent_elementid\", function () {",
                          "    var jsonData = pm.response.json();",
                          " pm.globals.set(\"consent_elementid\", jsonData.value.ELEMENT);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "ba2d35ee-7097-4962-9a4d-76057be3c7ba",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"name\",\"value\":\"consentAccepted\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "acceptconsent",
                  "_postman_id": "16b2c435-d30b-42c4-8735-c5b9d7645a1f",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [],
                    "body": {
                      "mode": "file",
                      "file": {
                        "src": ""
                      }
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{consent_elementid}}/click"
                  },
                  "response": []
                },
                {
                  "name": "gettokenid",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "02b4c223-cb45-4310-b064-d60510887571",
                        "exec": [
                          "pm.test(\"token_elementid\", function () {",
                          "    var jsonData = pm.response.json();",
                          " pm.globals.set(\"token_elementid\", jsonData.value.ELEMENT);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "b6c2dcbf-648c-465c-91b5-edca44e5ff0a",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"using\":\"id\",\"value\":\"get-tokens\"}"
                    },
                    "url": "http://localhost:9515/session/{{session}}/element"
                  },
                  "response": []
                },
                {
                  "name": "henttoken",
                  "_postman_id": "9189ca5e-dc20-4ef8-9fce-a95a8c4cd22a",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [],
                    "body": {
                      "mode": "file",
                      "file": {
                        "src": ""
                      }
                    },
                    "url": "http://localhost:9515/session/{{session}}/element/{{token_elementid}}/click"
                  },
                  "response": []
                },
                {
                  "name": "getTokensElements",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "02b4c223-cb45-4310-b064-d60510887571",
                        "exec": [
                          "pm.test(\"tokens\", function () {",
                          " var jsonData = pm.response.json();",
                          " console.log('tokens test jsonData',jsonData);",
                          " var tokens=jsonData.value;",
                          "  console.log('tokens test tokens',tokens);",
                          " var temptoken=tokens.split('access_token:').pop();",
                          "   console.log('tokens test temptoken',temptoken);",
                          " var refreshtokenpos=temptoken.lastIndexOf(\"refresh_token:\");",
                          "    console.log('tokens test refreshtokenpos',refreshtokenpos);",
                          " var token = temptoken.substring(1,refreshtokenpos-1);    ",
                          " ",
                          " ",
                          "pm.environment.unset(\"access_token_sp\");",
                          " pm.environment.set(\"access_token_sp\", token);",
                          "     ",
                          "console.log('access_token_sp',pm.environment.get(\"access_token_sp\"));",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "3507afc8-70bd-4557-8a45-42d3ebf08629",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "GET",
                    "header": [],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/source"
                  },
                  "response": []
                }
              ],
              "_postman_id": "608c3302-66c9-447d-8676-0db71033ed32",
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "4e0dc75c-1785-4fac-a98f-121ea8a60141",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ]
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "dc0686a3-bc5a-4282-a7cc-7536756437b3",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ]
                  }
                }
              ],
              "_postman_isSubFolder": true
            },
            {
              "name": "/clients",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d3d45bdc-d96a-4461-965a-a4858d750ff3",
                    "exec": [
                      "pm.test(\"Status code is 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "});",
                      "",
                      "",
                      "pm.test(\"/clients \", function () {",
                      "    var jsonData = pm.response.json();",
                      "    console.log(\"generated new client is  \",jsonData.client_id);",
                      "    pm.environment.set(\"sp_client_scope\", jsonData.client_id);",
                      "    console.log(\"sp_client_scope\",jsonData.client_id);",
                      "",
                      "}",
                      "",
                      ");"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "2e3d5f7f-1d4a-410c-82e9-b79b593944c2",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{access_token_sp}}"
                  }
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"client_name\": \"lra-oidc-test\",\n    \"description\": \"lra sin testklient oidc\",\n    \"authorization_lifetime\": 3600,\n    \"access_token_lifetime\": 3600,\n    \"refresh_token_lifetime\": 3600,\n    \"client_type\": \"PUBLIC\",\n    \"token_reference\": \"OPAQUE\",\n    \"refresh_token_usage\": \"ONETIME\",\n    \"frontchannel_logout_session_required\": false,\n    \"force_pkce\": false,\n    \"client_id\": \"123456789\",\n    \"client_orgno\": null,\n    \"client_uri\": \"https://wwww.knut.no\",\n    \"supplier_orgno\": null,\n    \"active\": true,\n    \"default_scopes\": [],\n    \"logo_uri\": \"bilde.gif\",\n    \"grant_types\": [\"urn:ietf:params:oauth:grant-type:jwt-bearer\"],\n    \"last_updated\": \"2019-03-21T17:03:59.583+01:00\",\n    \"created\": \"2019-03-08T15:50:40.540+01:00\"\n}"
                },
                "url": "{{serviceprovider_api}}/clients"
              },
              "response": []
            }
          ],
          "_postman_id": "9823e1c9-8f19-45b8-ad6a-5265ad39983e",
          "_postman_isSubFolder": true
        },
        {
          "name": "scope registrering",
          "item": [
            {
              "name": "/scope - 1 for accessable true",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "06bc0f89-04c7-40d6-abec-9f10a1e4eed1",
                    "exec": [
                      "pm.test(\"Status code is 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "var jsonData=pm.response.json();",
                      "pm.globals.set(\"new_scope1\",jsonData.name);",
                      "console.log(\"new scope 1\",pm.globals.get(\"new_scope1\"));",
                      "        ",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "264685f4-4dc0-407d-ab9e-2fe02be2637c",
                    "exec": [
                      "postman.setGlobalVariable('ran', Math.floor(Math.random() * 5000));"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "246dc6e3-ec6e-4708-869c-ed47832d7db8",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{access_token_sp}}"
                  }
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n\t\n    \"name\": \"tullenamn:lra\",\n    \"active\": true,\n    \"prefix\": \"lra\",\n    \"subscope\": \"nyttscope1{{ran}}\",\n    \"description\": \"Dette er LRA sitt interne scope\",\n    \"visibility\": \"PUBLIC\",\n    \"last_updated\": \"2019-02-08T09:09:12.057+01:00\",\n    \"created\": \"2019-02-07T10:47:00.086+01:00\",\n    \"owner_orgno\": \"991825827\",\n   \"token_type\": \"SELF_CONTAINED\",\n   \"accessible_for_all\":false\n}"
                },
                "url": "{{serviceprovider_api}}/scopes"
              },
              "response": []
            },
            {
              "name": "/scope -2 for accessible false",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "06bc0f89-04c7-40d6-abec-9f10a1e4eed1",
                    "exec": [
                      "pm.test(\"Status code is 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "var jsonData=pm.response.json();",
                      "pm.globals.set(\"new_scope2\",jsonData.name);",
                      "console.log(\"new scope 2\",pm.globals.get(\"new_scope2\"));",
                      "        ",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "264685f4-4dc0-407d-ab9e-2fe02be2637c",
                    "exec": [
                      "postman.setGlobalVariable('ran', Math.floor(Math.random() * 5000));"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "0d4f20de-d635-4bbb-810c-b3f2af0a6c4c",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{access_token_sp}}"
                  }
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n\t\n    \"name\": \"tullenamn:lra\",\n    \"active\": true,\n    \"prefix\": \"lra\",\n    \"subscope\": \"nyttscope1{{ran}}\",\n    \"description\": \"Dette er LRA sitt interne scope\",\n    \"visibility\": \"PUBLIC\",\n    \"last_updated\": \"2019-02-08T09:09:12.057+01:00\",\n    \"created\": \"2019-02-07T10:47:00.086+01:00\",\n    \"owner_orgno\": \"991825827\",\n   \"token_type\": \"SELF_CONTAINED\"\n\n}"
                },
                "url": "{{serviceprovider_api}}/scopes"
              },
              "response": []
            },
            {
              "name": "/scope -3 for accessible false",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "06bc0f89-04c7-40d6-abec-9f10a1e4eed1",
                    "exec": [
                      "pm.test(\"Status code is 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "var jsonData=pm.response.json();",
                      "pm.globals.set(\"new_scope3\",jsonData.name);",
                      "console.log(\"new scope3 \",pm.globals.get(\"new_scope3\"));",
                      "        ",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "264685f4-4dc0-407d-ab9e-2fe02be2637c",
                    "exec": [
                      "postman.setGlobalVariable('ran', Math.floor(Math.random() * 5000));"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "18d0a2b9-92cb-4cad-bfc9-da24468c7028",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{access_token_sp}}"
                  }
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "type": "text",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n\t\n    \"name\": \"tullenamn:lra\",\n    \"active\": true,\n    \"prefix\": \"lra\",\n    \"subscope\": \"nyttscope1{{ran}}\",\n    \"description\": \"Dette er LRA sitt interne scope\",\n    \"visibility\": \"PUBLIC\",\n    \"last_updated\": \"2019-02-08T09:09:12.057+01:00\",\n    \"created\": \"2019-02-07T10:47:00.086+01:00\",\n    \"owner_orgno\": \"991825827\",\n   \"token_type\": \"SELF_CONTAINED\"\n\n}"
                },
                "url": "{{serviceprovider_api}}/scopes"
              },
              "response": []
            }
          ],
          "_postman_id": "a35c3ad8-4606-4d2a-b5b5-d4500875d3df",
          "_postman_isSubFolder": true
        },
        {
          "name": "scope styring med forskjeling scope parameter",
          "item": [
            {
              "name": "accessiableforall_scope_false_for_all_scope",
              "item": [
                {
                  "name": "postreq",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "713e1a24-6a6c-4137-b6ec-ec8c924b3c95",
                        "exec": [
                          "var jsonData=pm.response.json();",
                          "pm.globals.set(\"session\",jsonData.sessionId);",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "b5fe5272-3aff-4402-a8e8-ec7325289ba2",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}"
                    },
                    "url": "http://localhost:9515/session"
                  },
                  "response": [
                    {
                      "id": "edf4419a-8705-4de7-8a7f-806f9afc0a84",
                      "name": "postreq",
                      "originalRequest": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Content-Type",
                            "name": "Content-Type",
                            "value": "application/json",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n\r\n        }\r\n    }\r\n}"
                        },
                        "url": "http://localhost:9515/session"
                      },
                      "status": "OK",
                      "code": 200,
                      "_postman_previewlanguage": "Text",
                      "header": [],
                      "cookie": [],
                      "responseTime": null,
                      "body": ""
                    }
                  ]
                },
                {
                  "name": "navigatetojwturl",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "tests[\"sessionId\"]=responseBody.has(\"sessionId\");",
                          "tests[\"client_id is status\"]=responseBody.has(\"status\");",
                          "tests[\"value\"]=responseBody.has(\"value\");",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "ce113eb6-188c-4559-92bb-ab62a84868ef",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"url\":\"http://34.239.102.186/jwtgrant?issuer={{sp_client_scope}}&audience=https://eid-systest-web01.dmz.local/idporten-oidc-provider/&scope={{new_scope1}}%20{{new_scope2}}%20{{new_scope3}}\"}\n"
                    },
                    "url": "http://localhost:9515/session/{{session}}/url"
                  },
                  "response": []
                },
                {
                  "name": "assertionrequest",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "\r",
                          "\r",
                          "pm.test(\"Status code is 200\", function () {\r",
                          "var jsonData = pm.response.json();\r",
                          "var jwtgrantString=jsonData.value;\r",
                          "var jwtgranttrim = jwtgrantString.substring(\r",
                          "    jwtgrantString.lastIndexOf(\"<body>\") +1, \r",
                          "    jwtgrantString.lastIndexOf(\"</body>\")\r",
                          ");\r",
                          "var assertiontmp=jwtgranttrim.substring(5);\r",
                          "console.log(assertiontmp);\r",
                          "\r",
                          "pm.environment.unset(\"assertion\");\r",
                          "pm.environment.set(\"assertion\", assertiontmp);\r",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "9dbd7b5f-fc48-4d34-9cb7-3660dbb7d574",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "GET",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/source"
                  },
                  "response": []
                },
                {
                  "name": "tokenendepunkt",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "4bf7af09-414c-4b1b-8c0d-8fa6422b7038",
                        "exec": [
                          "",
                          "pm.test(\"Status code is 400\", function () {",
                          "    pm.response.to.have.status(400);",
                          "    var jsonData=pm.response.json();",
                          "    pm.expect(jsonData.error).to.equal(\"invalid_scope\");",
                          "    var txt=\"Token contains scopes not available to the client: \"+pm.globals.get(\"new_scope1\")+\",\"+pm.globals.get(\"new_scope2\");",
                          "    console.log(\"error description  \"+txt);",
                          "    pm.expect(jsonData.error_description).to.be.include(txt);",
                          "    ",
                          "})",
                          "",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "9d8c90e2-3be6-4624-a0c3-7e3acaa67d5e",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/x-www-form-urlencoded",
                        "type": "text"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "urlencoded",
                      "urlencoded": [
                        {
                          "key": "grant_type",
                          "value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
                          "type": "text"
                        },
                        {
                          "key": "assertion",
                          "value": "{{assertion}}",
                          "type": "text"
                        }
                      ]
                    },
                    "url": "https://eid-systest-web01.dmz.local/idporten-oidc-provider/token"
                  },
                  "response": []
                }
              ],
              "_postman_id": "93885a3d-8713-4a2e-81de-54a8b42d993d",
              "_postman_isSubFolder": true
            },
            {
              "name": "accessiableforall_scope_true_for_all_scope",
              "item": [
                {
                  "name": "oppdatere scope 1 accessable_all true",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
                          "console.log(\"body : \" + request.data);",
                          "console.log(\"url : \" + request.url);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "a66d7fc1-e3d9-489e-8810-22ecaa5aca61",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"name\": \"{{new_scope1}}\",\r\n    \"active\": true,\r\n    \"prefix\": \"lra\",\r\n    \"subscope\": \"nyttscope11324\",\r\n    \"description\": \"Dette er LRA sitt interne scope\",\r\n    \"visibility\": \"PUBLIC\",\r\n    \"last_updated\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"created\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"owner_orgno\": \"991825827\",\r\n    \"token_type\": \"SELF_CONTAINED\",\r\n    \"requires_user_consent\": false,\r\n    \"requires_user_authentication\": false,\r\n    \"accessible_for_all\": true\r\n}"
                    },
                    "url": {
                      "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope1}}",
                      "host": [
                        "{{serviceprovider_api}}"
                      ],
                      "path": [
                        "scopes"
                      ],
                      "query": [
                        {
                          "key": "scope",
                          "value": "{{new_scope1}}"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "oppdatere scope 2 accessable_all true",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
                          "console.log(\"body : \" + request.data);",
                          "console.log(\"url : \" + request.url);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "8873e0ab-8b69-481c-b714-99b4ecbb1140",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"name\": \"{{new_scope2}}\",\r\n    \"active\": true,\r\n    \"prefix\": \"lra\",\r\n    \"subscope\": \"nyttscope11324\",\r\n    \"description\": \"Dette er LRA sitt interne scope\",\r\n    \"visibility\": \"PUBLIC\",\r\n    \"last_updated\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"created\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"owner_orgno\": \"991825827\",\r\n    \"token_type\": \"SELF_CONTAINED\",\r\n    \"requires_user_consent\": false,\r\n    \"requires_user_authentication\": false,\r\n    \"accessible_for_all\": true\r\n}"
                    },
                    "url": {
                      "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope2}}",
                      "host": [
                        "{{serviceprovider_api}}"
                      ],
                      "path": [
                        "scopes"
                      ],
                      "query": [
                        {
                          "key": "scope",
                          "value": "{{new_scope2}}"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "oppdatere scope 3 accessable_all true",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
                          "console.log(\"body : \" + request.data);",
                          "console.log(\"url : \" + request.url);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "477eed0b-d13e-40b4-93a5-6277fe24480b",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"name\": \"{{new_scope3}}\",\r\n    \"active\": true,\r\n    \"prefix\": \"lra\",\r\n    \"subscope\": \"nyttscope11324\",\r\n    \"description\": \"Dette er LRA sitt interne scope\",\r\n    \"visibility\": \"PUBLIC\",\r\n    \"last_updated\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"created\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"owner_orgno\": \"991825827\",\r\n    \"token_type\": \"SELF_CONTAINED\",\r\n    \"requires_user_consent\": false,\r\n    \"requires_user_authentication\": false,\r\n    \"accessible_for_all\": true\r\n}"
                    },
                    "url": {
                      "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope3}}",
                      "host": [
                        "{{serviceprovider_api}}"
                      ],
                      "path": [
                        "scopes"
                      ],
                      "query": [
                        {
                          "key": "scope",
                          "value": "{{new_scope3}}"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "postreq",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "713e1a24-6a6c-4137-b6ec-ec8c924b3c95",
                        "exec": [
                          "var jsonData=pm.response.json();",
                          "pm.globals.set(\"session\",jsonData.sessionId);",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "5db8b0d0-02e2-4bb3-a438-54277be38637",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}"
                    },
                    "url": "http://localhost:9515/session"
                  },
                  "response": [
                    {
                      "id": "34347bd7-3914-4118-bd55-fac09ac16b3b",
                      "name": "postreq",
                      "originalRequest": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Content-Type",
                            "name": "Content-Type",
                            "value": "application/json",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n\r\n        }\r\n    }\r\n}"
                        },
                        "url": "http://localhost:9515/session"
                      },
                      "status": "OK",
                      "code": 200,
                      "_postman_previewlanguage": "Text",
                      "header": [],
                      "cookie": [],
                      "responseTime": null,
                      "body": ""
                    }
                  ]
                },
                {
                  "name": "navigatetojwturl",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "tests[\"sessionId\"]=responseBody.has(\"sessionId\");",
                          "tests[\"client_id is status\"]=responseBody.has(\"status\");",
                          "tests[\"value\"]=responseBody.has(\"value\");",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "ae96542f-0ab0-4916-b912-d0055222fbc9",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"url\":\"http://34.239.102.186/jwtgrant?issuer={{sp_client_scope}}&audience=https://eid-systest-web01.dmz.local/idporten-oidc-provider/&scope={{new_scope1}}%20{{new_scope2}}%20{{new_scope3}}\"}\n"
                    },
                    "url": "http://localhost:9515/session/{{session}}/url"
                  },
                  "response": []
                },
                {
                  "name": "assertionrequest",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "\r",
                          "\r",
                          "pm.test(\"Status code is 200\", function () {\r",
                          "var jsonData = pm.response.json();\r",
                          "var jwtgrantString=jsonData.value;\r",
                          "var jwtgranttrim = jwtgrantString.substring(\r",
                          "    jwtgrantString.lastIndexOf(\"<body>\") +1, \r",
                          "    jwtgrantString.lastIndexOf(\"</body>\")\r",
                          ");\r",
                          "var assertiontmp=jwtgranttrim.substring(5);\r",
                          "console.log(assertiontmp);\r",
                          "\r",
                          "pm.environment.unset(\"assertion\");\r",
                          "pm.environment.set(\"assertion\", assertiontmp);\r",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "de7e1ef2-a456-46e6-b2f2-5d5da7cb24a8",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "GET",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/source"
                  },
                  "response": []
                },
                {
                  "name": "tokenendepunkt",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "4bf7af09-414c-4b1b-8c0d-8fa6422b7038",
                        "exec": [
                          "",
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "41dfaa89-5ffe-4d1b-8007-f60cf6ab1b6d",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/x-www-form-urlencoded",
                        "type": "text"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "urlencoded",
                      "urlencoded": [
                        {
                          "key": "grant_type",
                          "value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
                          "type": "text"
                        },
                        {
                          "key": "assertion",
                          "value": "{{assertion}}",
                          "type": "text"
                        }
                      ]
                    },
                    "url": "https://eid-systest-web01.dmz.local/idporten-oidc-provider/token"
                  },
                  "response": []
                }
              ],
              "_postman_id": "e454814e-d3b4-482f-8d4e-2b37324f2935",
              "_postman_isSubFolder": true
            },
            {
              "name": "user_authentcation_true_for_et_scope",
              "item": [
                {
                  "name": "/scopes",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "d7ebcdef-b67e-44df-82ec-bfecebf423ba",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "76d81397-74e3-4db2-8d4c-9bcb32145536",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "GET",
                    "header": [],
                    "url": {
                      "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope2}}",
                      "host": [
                        "{{serviceprovider_api}}"
                      ],
                      "path": [
                        "scopes"
                      ],
                      "query": [
                        {
                          "key": "scope",
                          "value": "{{new_scope2}}"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "Put /scopes{?scope}",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
                          "console.log(\"body : \" + request.data);",
                          "console.log(\"url : \" + request.url);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "4576cea6-94b7-492f-b487-25638e329a9b",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"name\": \"{{new_scope2}}\",\r\n    \"active\": true,\r\n    \"prefix\": \"lra\",\r\n    \"subscope\": \"nyttscope11324\",\r\n    \"description\": \"Dette er LRA sitt interne scope\",\r\n    \"visibility\": \"PUBLIC\",\r\n    \"last_updated\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"created\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"owner_orgno\": \"991825827\",\r\n    \"token_type\": \"SELF_CONTAINED\",\r\n    \"requires_user_consent\": false,\r\n    \"requires_user_authentication\": true,\r\n    \"accessible_for_all\": true\r\n}\r\n\r\n"
                    },
                    "url": {
                      "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope2}}",
                      "host": [
                        "{{serviceprovider_api}}"
                      ],
                      "path": [
                        "scopes"
                      ],
                      "query": [
                        {
                          "key": "scope",
                          "value": "{{new_scope2}}"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "postreq",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "713e1a24-6a6c-4137-b6ec-ec8c924b3c95",
                        "exec": [
                          "var jsonData=pm.response.json();",
                          "pm.globals.set(\"session\",jsonData.sessionId);",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "6a785a2b-b3e5-4832-9bad-0a0148b3d908",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}"
                    },
                    "url": "http://localhost:9515/session"
                  },
                  "response": [
                    {
                      "id": "5ae8054e-18b6-493f-832f-59635afb2220",
                      "name": "postreq",
                      "originalRequest": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Content-Type",
                            "name": "Content-Type",
                            "value": "application/json",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n\r\n        }\r\n    }\r\n}"
                        },
                        "url": "http://localhost:9515/session"
                      },
                      "status": "OK",
                      "code": 200,
                      "_postman_previewlanguage": "Text",
                      "header": [],
                      "cookie": [],
                      "responseTime": null,
                      "body": ""
                    }
                  ]
                },
                {
                  "name": "navigatetojwturl",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "tests[\"sessionId\"]=responseBody.has(\"sessionId\");",
                          "tests[\"client_id is status\"]=responseBody.has(\"status\");",
                          "tests[\"value\"]=responseBody.has(\"value\");",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "2ba235eb-81c3-4338-8e51-9a78407300ae",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"url\":\"http://34.239.102.186/jwtgrant?issuer={{sp_client_scope}}&audience=https://eid-systest-web01.dmz.local/idporten-oidc-provider/&scope={{new_scope2}}\"}\n"
                    },
                    "url": "http://localhost:9515/session/{{session}}/url"
                  },
                  "response": []
                },
                {
                  "name": "assertionrequest",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "\r",
                          "\r",
                          "pm.test(\"Status code is 200\", function () {\r",
                          "var jsonData = pm.response.json();\r",
                          "var jwtgrantString=jsonData.value;\r",
                          "var jwtgranttrim = jwtgrantString.substring(\r",
                          "    jwtgrantString.lastIndexOf(\"<body>\") +1, \r",
                          "    jwtgrantString.lastIndexOf(\"</body>\")\r",
                          ");\r",
                          "var assertiontmp=jwtgranttrim.substring(5);\r",
                          "console.log(assertiontmp);\r",
                          "\r",
                          "pm.environment.unset(\"assertion\");\r",
                          "pm.environment.set(\"assertion\", assertiontmp);\r",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "a7b62351-3e7e-4610-bf41-06a17dc4a2d0",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "GET",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/source"
                  },
                  "response": []
                },
                {
                  "name": "tokenendepunkt",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "4bf7af09-414c-4b1b-8c0d-8fa6422b7038",
                        "exec": [
                          "",
                          "pm.test(\"Status code is 400\", function () {",
                          "    pm.response.to.have.status(400);",
                          "    var jsonData=pm.response.json();",
                          "    pm.expect(jsonData.error).to.equal(\"invalid_scope\");",
                          "    var txt=\"Token contains scopes that require an end user authentication: \"+pm.globals.get(\"new_scope2\");",
                          "    console.log(\"error description  \"+txt);",
                          "    pm.expect(jsonData.error_description).to.be.include(txt);",
                          "    ",
                          "})",
                          "",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "4f58c2fb-a314-4c3f-906a-d5f8e9f7e6af",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/x-www-form-urlencoded",
                        "type": "text"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "urlencoded",
                      "urlencoded": [
                        {
                          "key": "grant_type",
                          "value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
                          "type": "text"
                        },
                        {
                          "key": "assertion",
                          "value": "{{assertion}}",
                          "type": "text"
                        }
                      ]
                    },
                    "url": "https://eid-systest-web01.dmz.local/idporten-oidc-provider/token"
                  },
                  "response": []
                }
              ],
              "_postman_id": "db5621c1-5497-4268-abd4-0570e00adc3f",
              "_postman_isSubFolder": true
            },
            {
              "name": "user_consent_true_for_et_scope",
              "item": [
                {
                  "name": "/scopes",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "d7ebcdef-b67e-44df-82ec-bfecebf423ba",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "2e4ad42d-9236-4b49-a70c-d7b85f9f7f34",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "GET",
                    "header": [],
                    "url": {
                      "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope2}}",
                      "host": [
                        "{{serviceprovider_api}}"
                      ],
                      "path": [
                        "scopes"
                      ],
                      "query": [
                        {
                          "key": "scope",
                          "value": "{{new_scope2}}"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "Put /scopes{?scope}",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
                          "console.log(\"body : \" + request.data);",
                          "console.log(\"url : \" + request.url);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "5484e415-1e60-421e-9499-f8fd5e05f514",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"name\": \"{{new_scope2}}\",\r\n    \"active\": true,\r\n    \"prefix\": \"lra\",\r\n    \"subscope\": \"nyttscope11324\",\r\n    \"description\": \"Dette er LRA sitt interne scope\",\r\n    \"visibility\": \"PUBLIC\",\r\n    \"last_updated\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"created\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"owner_orgno\": \"991825827\",\r\n    \"token_type\": \"SELF_CONTAINED\",\r\n    \"requires_user_consent\": true,\r\n    \"requires_user_authentication\": false,\r\n    \"accessible_for_all\": true\r\n}\r\n\r\n"
                    },
                    "url": {
                      "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope2}}",
                      "host": [
                        "{{serviceprovider_api}}"
                      ],
                      "path": [
                        "scopes"
                      ],
                      "query": [
                        {
                          "key": "scope",
                          "value": "{{new_scope2}}"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "postreq",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "713e1a24-6a6c-4137-b6ec-ec8c924b3c95",
                        "exec": [
                          "var jsonData=pm.response.json();",
                          "pm.globals.set(\"session\",jsonData.sessionId);",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "d3dd8a28-bea9-4ae8-9d31-85372d02045c",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}"
                    },
                    "url": "http://localhost:9515/session"
                  },
                  "response": [
                    {
                      "id": "01f9196a-19ff-4156-a89a-226434d55d29",
                      "name": "postreq",
                      "originalRequest": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Content-Type",
                            "name": "Content-Type",
                            "value": "application/json",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n\r\n        }\r\n    }\r\n}"
                        },
                        "url": "http://localhost:9515/session"
                      },
                      "status": "OK",
                      "code": 200,
                      "_postman_previewlanguage": "Text",
                      "header": [],
                      "cookie": [],
                      "responseTime": null,
                      "body": ""
                    }
                  ]
                },
                {
                  "name": "navigatetojwturl",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "tests[\"sessionId\"]=responseBody.has(\"sessionId\");",
                          "tests[\"client_id is status\"]=responseBody.has(\"status\");",
                          "tests[\"value\"]=responseBody.has(\"value\");",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "e2686ace-5505-42e5-afbe-1c0374a73956",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"url\":\"http://34.239.102.186/jwtgrant?issuer={{sp_client_scope}}&audience=https://eid-systest-web01.dmz.local/idporten-oidc-provider/&scope={{new_scope1}}%20{{new_scope2}}%20{{new_scope3}}\"}\n"
                    },
                    "url": "http://localhost:9515/session/{{session}}/url"
                  },
                  "response": []
                },
                {
                  "name": "assertionrequest",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "\r",
                          "\r",
                          "pm.test(\"Status code is 200\", function () {\r",
                          "var jsonData = pm.response.json();\r",
                          "var jwtgrantString=jsonData.value;\r",
                          "var jwtgranttrim = jwtgrantString.substring(\r",
                          "    jwtgrantString.lastIndexOf(\"<body>\") +1, \r",
                          "    jwtgrantString.lastIndexOf(\"</body>\")\r",
                          ");\r",
                          "var assertiontmp=jwtgranttrim.substring(5);\r",
                          "console.log(assertiontmp);\r",
                          "\r",
                          "pm.environment.unset(\"assertion\");\r",
                          "pm.environment.set(\"assertion\", assertiontmp);\r",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "c251de91-b5f8-4d5f-ac60-31604f065cda",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "GET",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/source"
                  },
                  "response": []
                },
                {
                  "name": "tokenendepunkt",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "4bf7af09-414c-4b1b-8c0d-8fa6422b7038",
                        "exec": [
                          "",
                          "pm.test(\"Status code is 400\", function () {",
                          "    pm.response.to.have.status(400);",
                          "    var jsonData=pm.response.json();",
                          "    pm.expect(jsonData.error).to.equal(\"invalid_scope\");",
                          "    var txt=\"Token contains scopes that require an end user authentication: \"+pm.globals.get(\"new_scope2\");",
                          "    console.log(\"error description  \"+txt);",
                          "    pm.expect(jsonData.error_description).to.be.include(txt);",
                          "    ",
                          "})",
                          "",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "3dbda1e1-d5d2-43b5-b4c6-192dd19cde3e",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/x-www-form-urlencoded",
                        "type": "text"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "urlencoded",
                      "urlencoded": [
                        {
                          "key": "grant_type",
                          "value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
                          "type": "text"
                        },
                        {
                          "key": "assertion",
                          "value": "{{assertion}}",
                          "type": "text"
                        }
                      ]
                    },
                    "url": "https://eid-systest-web01.dmz.local/idporten-oidc-provider/token"
                  },
                  "response": []
                }
              ],
              "_postman_id": "fdab6e05-b288-408b-aef9-9ac55e581700",
              "_postman_isSubFolder": true
            },
            {
              "name": "allescope_registrert_p\u00e5_klient_og_setteopp_accessable_for_all_true_oget_scope_require_user_consent_true",
              "item": [
                {
                  "name": "oppdatere scope 1 accessable_all true",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
                          "console.log(\"body : \" + request.data);",
                          "console.log(\"url : \" + request.url);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "7fe43885-0849-4d16-82da-076105294453",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"name\": \"{{new_scope1}}\",\r\n    \"active\": true,\r\n    \"prefix\": \"lra\",\r\n    \"subscope\": \"nyttscope11324\",\r\n    \"description\": \"Dette er LRA sitt interne scope\",\r\n    \"visibility\": \"PUBLIC\",\r\n    \"last_updated\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"created\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"owner_orgno\": \"991825827\",\r\n    \"token_type\": \"SELF_CONTAINED\",\r\n    \"requires_user_consent\": true,\r\n    \"requires_user_authentication\": false,\r\n    \"accessible_for_all\": true\r\n}"
                    },
                    "url": {
                      "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope1}}",
                      "host": [
                        "{{serviceprovider_api}}"
                      ],
                      "path": [
                        "scopes"
                      ],
                      "query": [
                        {
                          "key": "scope",
                          "value": "{{new_scope1}}"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "oppdatere scope 2 accessable_all true",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
                          "console.log(\"body : \" + request.data);",
                          "console.log(\"url : \" + request.url);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "578a0ee2-b58d-47b8-97ef-9db5723e0c62",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"name\": \"{{new_scope2}}\",\r\n    \"active\": true,\r\n    \"prefix\": \"lra\",\r\n    \"subscope\": \"nyttscope11324\",\r\n    \"description\": \"Dette er LRA sitt interne scope\",\r\n    \"visibility\": \"PUBLIC\",\r\n    \"last_updated\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"created\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"owner_orgno\": \"991825827\",\r\n    \"token_type\": \"SELF_CONTAINED\",\r\n    \"requires_user_consent\": true,\r\n    \"requires_user_authentication\": false,\r\n    \"accessible_for_all\": true\r\n}"
                    },
                    "url": {
                      "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope2}}",
                      "host": [
                        "{{serviceprovider_api}}"
                      ],
                      "path": [
                        "scopes"
                      ],
                      "query": [
                        {
                          "key": "scope",
                          "value": "{{new_scope2}}"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "oppdatere scope 3 accessable_all true",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
                          "console.log(\"body : \" + request.data);",
                          "console.log(\"url : \" + request.url);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "db282521-077c-484d-883c-b0fd9d2b1504",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"name\": \"{{new_scope3}}\",\r\n    \"active\": true,\r\n    \"prefix\": \"lra\",\r\n    \"subscope\": \"nyttscope11324\",\r\n    \"description\": \"Dette er LRA sitt interne scope\",\r\n    \"visibility\": \"PUBLIC\",\r\n    \"last_updated\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"created\": \"2019-09-12T12:04:44.272+02:00\",\r\n    \"owner_orgno\": \"991825827\",\r\n    \"token_type\": \"SELF_CONTAINED\",\r\n    \"requires_user_consent\": true,\r\n    \"requires_user_authentication\": false,\r\n    \"accessible_for_all\": true\r\n}"
                    },
                    "url": {
                      "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope3}}",
                      "host": [
                        "{{serviceprovider_api}}"
                      ],
                      "path": [
                        "scopes"
                      ],
                      "query": [
                        {
                          "key": "scope",
                          "value": "{{new_scope3}}"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "/clients/{id}",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "cd27aa17-bac8-4ef4-85c7-a38399314692",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "});",
                          "",
                          "pm.test(\"/get clients \", function () {",
                          "    var jsonData = pm.response.json();",
                          "   console.log(\"get clients \",jsonData.value);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "a220aa91-a8e7-46c4-b6b5-1da78a77ac04",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "GET",
                    "header": [],
                    "url": "{{serviceprovider_api}}/clients/{{sp_client_scope}}"
                  },
                  "response": []
                },
                {
                  "name": "/clients",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "a8881322-43a7-4570-bdd3-88d8f73c9a97",
                        "exec": [
                          "pm.test(\"Status code is 200\", function () {",
                          "    pm.response.to.have.status(200);",
                          "});"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "79bc6fbf-038d-4f2a-ba5a-0a71490c8dbd",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": {
                        "token": "{{access_token_sp}}"
                      }
                    },
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"client_name\": \"lra-oidc-test\",\r\n    \"description\": \"lra sin testklient oidc\",\r\n    \"scopes\": [\r\n        \"openid\",\r\n        \"profile\",\r\n        \"{{new_scope1}}\",\r\n        \"{{new_scope2}}\",\r\n        \"{{new_scope3}}\"\r\n    ],\r\n    \"authorization_lifetime\": 3600,\r\n    \"access_token_lifetime\": 3600,\r\n    \"refresh_token_lifetime\": 3600,\r\n    \"refresh_token_usage\": \"ONETIME\",\r\n    \"frontchannel_logout_session_required\": false,\r\n    \"grant_types\": [\r\n        \"urn:ietf:params:oauth:grant-type:jwt-bearer\"\r\n    ],\r\n    \"active\": true,\r\n    \"client_uri\": \"https://wwww.knut.no\",\r\n    \"last_updated\": \"2019-09-12T14:35:00.765+02:00\",\r\n    \"created\": \"2019-09-12T14:29:32.273+02:00\",\r\n    \"client_id\": \"08bcfe94-b704-4c66-b654-a7a1458b75df\"\r\n    \r\n}"
                    },
                    "url": "{{serviceprovider_api}}/clients/{{sp_client_scope}}"
                  },
                  "response": []
                },
                {
                  "name": "postreq",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "713e1a24-6a6c-4137-b6ec-ec8c924b3c95",
                        "exec": [
                          "var jsonData=pm.response.json();",
                          "pm.globals.set(\"session\",jsonData.sessionId);",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "1e361dc8-e9ab-4ff3-964e-beb47cfa12a7",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}"
                    },
                    "url": "http://localhost:9515/session"
                  },
                  "response": [
                    {
                      "id": "b2c59360-8396-4762-9419-530c8f069a79",
                      "name": "postreq",
                      "originalRequest": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Content-Type",
                            "name": "Content-Type",
                            "value": "application/json",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n\r\n        }\r\n    }\r\n}"
                        },
                        "url": "http://localhost:9515/session"
                      },
                      "status": "OK",
                      "code": 200,
                      "_postman_previewlanguage": "Text",
                      "header": [],
                      "cookie": [],
                      "responseTime": null,
                      "body": ""
                    }
                  ]
                },
                {
                  "name": "navigatetojwturl",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "tests[\"sessionId\"]=responseBody.has(\"sessionId\");",
                          "tests[\"client_id is status\"]=responseBody.has(\"status\");",
                          "tests[\"value\"]=responseBody.has(\"value\");",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "1a74e8ba-d98e-4579-953e-a736051d7fa0",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\"url\":\"http://34.239.102.186/jwtgrant?issuer={{sp_client_scope}}&audience=https://eid-systest-web01.dmz.local/idporten-oidc-provider/&scope={{new_scope1}}%20{{new_scope2}}%20{{new_scope3}}\"}\n"
                    },
                    "url": "http://localhost:9515/session/{{session}}/url"
                  },
                  "response": []
                },
                {
                  "name": "assertionrequest",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
                        "exec": [
                          "var jsonData = pm.response.json();\r",
                          "var jwtgrantString=jsonData.value;\r",
                          "var jwtgranttrim = jwtgrantString.substring(\r",
                          "    jwtgrantString.lastIndexOf(\"<body>\") +1, \r",
                          "    jwtgrantString.lastIndexOf(\"</body>\")\r",
                          ");\r",
                          "var assertiontmp=jwtgranttrim.substring(5);\r",
                          "console.log(assertiontmp);\r",
                          "pm.environment.set(\"assertion\", assertiontmp);"
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "1eef3bb3-fc92-4b4c-aaef-d22c7b7b6607",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "GET",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "type": "text",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": "http://localhost:9515/session/{{session}}/source"
                  },
                  "response": []
                },
                {
                  "name": "tokenendepunkt",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "4bf7af09-414c-4b1b-8c0d-8fa6422b7038",
                        "exec": [
                          "",
                          "pm.test(\"Status code is 400\", function () {",
                          "    pm.response.to.have.status(400);",
                          "var jsonData = pm.response.json();",
                          "",
                          "})",
                          "",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "_postman_id": "16d6fea8-ea75-4005-8b9c-fd74584b1b90",
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "noauth"
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "name": "Content-Type",
                        "value": "application/x-www-form-urlencoded",
                        "type": "text"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "urlencoded",
                      "urlencoded": [
                        {
                          "key": "grant_type",
                          "value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
                          "type": "text"
                        },
                        {
                          "key": "assertion",
                          "value": "{{assertion}}",
                          "type": "text"
                        }
                      ]
                    },
                    "url": "https://eid-systest-web01.dmz.local/idporten-oidc-provider/token"
                  },
                  "response": []
                }
              ],
              "_postman_id": "37ada0ce-651a-421c-a2e2-9c97a6459eb0",
              "_postman_isSubFolder": true
            }
          ],
          "_postman_id": "dc30308c-7965-4984-a0cb-948dffcd1107",
          "_postman_isSubFolder": true
        },
        {
          "name": "delete scope og klient",
          "item": [
            {
              "name": "Delete  /scopes{?scope 1}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "11c7f893-2704-4292-9819-12d13b8a5722",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "61eb1ceb-12b6-43ee-849d-50d970e3caec",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{access_token_sp}}"
                  }
                },
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope1}}",
                  "host": [
                    "{{serviceprovider_api}}"
                  ],
                  "path": [
                    "scopes"
                  ],
                  "query": [
                    {
                      "key": "scope",
                      "value": "{{new_scope1}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete  /scopes{?scope 2}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "11c7f893-2704-4292-9819-12d13b8a5722",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "472f7308-004b-463d-849f-f6c16da5110c",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{access_token_sp}}"
                  }
                },
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope2}}",
                  "host": [
                    "{{serviceprovider_api}}"
                  ],
                  "path": [
                    "scopes"
                  ],
                  "query": [
                    {
                      "key": "scope",
                      "value": "{{new_scope2}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete  /scopes{?scope 3}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "11c7f893-2704-4292-9819-12d13b8a5722",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "fe7eaf38-1add-42eb-92ef-b4d8ef10b706",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{access_token_sp}}"
                  }
                },
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{serviceprovider_api}}/scopes?scope={{new_scope3}}",
                  "host": [
                    "{{serviceprovider_api}}"
                  ],
                  "path": [
                    "scopes"
                  ],
                  "query": [
                    {
                      "key": "scope",
                      "value": "{{new_scope3}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "/clients/{id}",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "587a4b78-014f-4a13-85c8-147881ab6d24",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "_postman_id": "15403e7e-1608-47ee-9c47-d884bb0d6ae3",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": {
                    "token": "{{access_token_sp}}"
                  }
                },
                "method": "DELETE",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "url": "{{serviceprovider_api}}/clients/{{sp_client_scope}}"
              },
              "response": []
            }
          ],
          "_postman_id": "07758c58-a15c-453e-bd40-ece081f3f610",
          "_postman_isSubFolder": true
        }
      ],
      "_postman_id": "005caf82-4298-4f23-be81-a6fa88d96209"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": {
      "token": "{{access_token_sp}}"
    }
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "a413abee-2807-4312-8602-6ef7198cb74e",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "64d9e171-1afd-4655-806a-8a438c1fd178",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}