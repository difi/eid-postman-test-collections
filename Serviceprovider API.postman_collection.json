{
	"info": {
		"_postman_id": "95654d2c-178e-42d2-8193-dabd0298f91e",
		"name": "Serviceprovider API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Hente gyldig accesstoken med riktig scope",
			"item": [
				{
					"name": "postreq",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "713e1a24-6a6c-4137-b6ec-ec8c924b3c95",
								"exec": [
									"var jsonData=pm.response.json();",
									"pm.globals.set(\"session\",jsonData.sessionId);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session"
							]
						}
					},
					"response": [
						{
							"name": "postreq",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n\r\n        }\r\n    }\r\n}"
								},
								"url": {
									"raw": "http://localhost:9515/session",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "9515",
									"path": [
										"session"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [],
							"cookie": [],
							"body": ""
						}
					]
				},
				{
					"name": "navigatetooidcclienturl",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
								"exec": [
									"tests[\"sessionId\"]=responseBody.has(\"sessionId\");",
									"tests[\"client_id is status\"]=responseBody.has(\"status\");",
									"tests[\"value\"]=responseBody.has(\"value\");",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"url\":\"{{idporten_oidc_client_url}}\"}\n"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/url",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"url"
							]
						}
					},
					"response": []
				},
				{
					"name": "findclientelementid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
								"exec": [
									"pm.test(\"find element id for client_id \", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"client_id\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"name\",\"value\":\"client_id\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "selectdropdown",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a9c5f504-80da-4b67-bd66-86c7cb3558c4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{client_id}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{client_id}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "clickenter",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "93942b66-73f7-40cd-816a-8f6eac550aec",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"value\":[\"\\uE007\"]}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{client_id}}/value",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{client_id}}",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "findscopeid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
								"exec": [
									"pm.test(\"Scope element id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"scope\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"name\",\"value\":\"scope\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "setscope",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e65befc8-4e49-43f6-a2bc-3ebfdc77a6dc",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"value\":[\"   idporten:authorizations.revoke idporten:user.log.read krr:user.log.all.read idporten:dcr.read idporten:dcr.write idporten:dcr.modify idporten:scopes.write idporten:scopes.read\"]}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{scope}}/value",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{scope}}",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "findloginelementid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
								"exec": [
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"loginid\", jsonData.value.ELEMENT);",
									"",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"login\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "clicklogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a9c5f504-80da-4b67-bd66-86c7cb3558c4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "5f95f475-e14e-4a9f-9448-803200c232cd",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{loginid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{loginid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "elementonthispage",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4d4bd4ba-154b-4b05-923d-64e1d36be0a1",
								"exec": [
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"minid_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/x-www-form-urlencoded",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"MinIDChain\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "clickonminid",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{minid_elementid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{minid_elementid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "getelementidssn",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "189f83ec-8efd-438c-b133-0fbc201abad0",
								"exec": [
									"var jsonData = pm.response.json();",
									" pm.globals.set(\"ssn_elementid\", jsonData.value.ELEMENT);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"input_USERNAME_IDPORTEN\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "getelementidpassword",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8929c791-35e2-41f7-8b0b-8678e9309e58",
								"exec": [
									"var jsonData = pm.response.json();",
									" pm.globals.set(\"password_elementid\", jsonData.value.ELEMENT);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"input_PASSWORD_IDPORTEN\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "setssn",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e65befc8-4e49-43f6-a2bc-3ebfdc77a6dc",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"value\":[\"{{ssn}}\"]}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{ssn_elementid}}/value",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{ssn_elementid}}",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "setpassword",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"value\":[\"password01\"]}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{password_elementid}}/value",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{password_elementid}}",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "submit",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d4ee6a6d-0d1e-4948-aaa6-a2829f185475",
								"exec": [
									"pm.test(\"next_elementid\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"next_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "clicksubmit",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e75ea17b-88ea-4c32-b35f-8758d03c48c1",
								"exec": [
									"setTimeout(checkStatusCode, 500);\r",
									"\r",
									"    function checkStatusCode() {\r",
									"\r",
									"        pm.sendRequest('https://postman-echo.com/get', function (err, res) {\r",
									"\r",
									"            tests['status code should be 200']= res.code ===200;\r",
									"\r",
									"        });\r",
									"    }"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{next_elementid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{next_elementid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "pinnumberid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "49f2b57c-29a8-41bf-9041-7400083bf039",
								"exec": [
									"pm.test(\"pin_elementid\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"pin_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"input_PINCODE1_IDPORTEN\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "setppin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "95b50532-96b7-405c-afd1-52b576a70e9f",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"value\":[\"12345\"]}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{pin_elementid}}/value",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{pin_elementid}}",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "getsubmitid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "02b4c223-cb45-4310-b064-d60510887571",
								"exec": [
									"pm.test(\"submit_elementid\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"submit_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "finalsubmit ",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{submit_elementid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{submit_elementid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "getconsentid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "02b4c223-cb45-4310-b064-d60510887571",
								"exec": [
									"pm.test(\"consent_elementid\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"consent_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"name\",\"value\":\"consentAccepted\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "acceptconsent",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "file",
							"file": {
								"src": ""
							}
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{consent_elementid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{consent_elementid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "gettokenid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "02b4c223-cb45-4310-b064-d60510887571",
								"exec": [
									"pm.test(\"token_elementid\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"token_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"get-tokens\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "henttoken",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "file",
							"file": {
								"src": ""
							}
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{token_elementid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{token_elementid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "getTokensElements",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "02b4c223-cb45-4310-b064-d60510887571",
								"exec": [
									"pm.test(\"tokens\", function () {",
									" var jsonData = pm.response.json();",
									" console.log('tokens test jsonData',jsonData);",
									" var tokens=jsonData.value;",
									"  console.log('tokens test tokens',tokens);",
									" var temptoken=tokens.split('access_token:').pop();",
									"   console.log('tokens test temptoken',temptoken);",
									" var refreshtokenpos=temptoken.lastIndexOf(\"refresh_token:\");",
									"    console.log('tokens test refreshtokenpos',refreshtokenpos);",
									" var token = temptoken.substring(1,refreshtokenpos-1);    ",
									" pm.environment.set(\"access_token_sp\", token);",
									"     ",
									"console.log('access_token_sp',pm.environment.get(\"access_token_sp\"));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/source",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"source"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "4e0dc75c-1785-4fac-a98f-121ea8a60141",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "dc0686a3-bc5a-4282-a7cc-7536756437b3",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "oidc-client-controller",
			"item": [
				{
					"name": "/clients",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "81193e3f-c47b-4c82-b2e3-b07850b74304",
								"exec": [
									"pm.test(\"Get Clients \", function () {",
									"        ",
									"pm.response.to.have.status(200);",
									"var jsonData = pm.response.json();",
									"console.log(\"clients \",jsonData);",
									"",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "71df21c3-6cee-487b-93dd-b7f740e5cc5e",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{serviceprovider_api}}/clients?inactive=true",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"clients"
							],
							"query": [
								{
									"key": "inactive",
									"value": "true"
								}
							]
						},
						"description": "Optional attributt \"inactive\" [true|false] som filtreringsparameter"
					},
					"response": []
				},
				{
					"name": "/clients",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d3d45bdc-d96a-4461-965a-a4858d750ff3",
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"",
									"pm.test(\"/clients \", function () {",
									"    var jsonData = pm.response.json();",
									"    console.log(\"clients here\",jsonData.client_id);",
									"    pm.environment.set(\"sp_client_id\", jsonData.client_id);",
									"    console.log(\"client id\",jsonData.client_id);",
									"",
									"}",
									"",
									");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"client_name\": \"knut-oidc-test\",\n    \"description\": \"Knut sin testklient oidc\",\n    \"authorization_lifetime\": 3600,\n    \"access_token_lifetime\": 3600,\n    \"refresh_token_lifetime\": 3600,\n    \"client_type\": \"PUBLIC\",\n    \"token_reference\": \"OPAQUE\",\n    \"refresh_token_usage\": \"ONETIME\",\n    \"frontchannel_logout_session_required\": false,\n    \"force_pkce\": false,\n    \"client_id\": \"123456789\",\n    \"client_orgno\": null,\n    \"client_uri\": \"https://wwww.knut.no\",\n    \"supplier_orgno\": null,\n    \"active\": false,\n    \"default_scopes\": [],\n    \"logo_uri\": \"bilde.gif\",\n    \"grant_types\": [\"urn:ietf:params:oauth:grant-type:jwt-bearer\"],\n    \"last_updated\": \"2019-03-21T17:03:59.583+01:00\",\n    \"created\": \"2019-03-08T15:50:40.540+01:00\"\n}"
						},
						"url": {
							"raw": "{{serviceprovider_api}}/clients",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"clients"
							]
						}
					},
					"response": []
				},
				{
					"name": "/clients/{id}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cd27aa17-bac8-4ef4-85c7-a38399314692",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"/get clients \", function () {",
									"    var jsonData = pm.response.json();",
									"   console.log(\"get clients \",jsonData.value);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{serviceprovider_api}}/clients/{{sp_client_id}}?inactive=true",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"clients",
								"{{sp_client_id}}"
							],
							"query": [
								{
									"key": "inactive",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/clients/{id}/secret",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{serviceprovider_api}}/clients/{{sp_client_id}}/secret",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"clients",
								"{{sp_client_id}}",
								"secret"
							]
						}
					},
					"response": []
				},
				{
					"name": "/clients",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8881322-43a7-4570-bdd3-88d8f73c9a97",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"client_name\": \"oidc_testautomasjon_test3\",\n    \"description\": \"cucumber-creating_oidc_client\",\n\t\"grant_types\": [\"urn:ietf:params:oauth:grant-type:jwt-bearer\"],    \n    \"scopes\": [\n        \"openid\",\n        \"profile\"\n    ]\n}"
						},
						"url": {
							"raw": "{{serviceprovider_api}}/clients/{{sp_client_id}}",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"clients",
								"{{sp_client_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "/clients/{id}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "587a4b78-014f-4a13-85c8-147881ab6d24",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{serviceprovider_api}}/clients/{{sp_client_id}}",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"clients",
								"{{sp_client_id}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "8e6df318-4559-4430-929b-f60841bc276e",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "a772d638-b89f-4d6a-96ca-c77af18fe48c",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "scope-controller",
			"item": [
				{
					"name": "/scopes{?inactive, scope}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d7ebcdef-b67e-44df-82ec-bfecebf423ba",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{serviceprovider_api}}/scopes?scope=lra:public",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"scopes"
							],
							"query": [
								{
									"key": "scope",
									"value": "lra:public"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/scopes/all{?inactive, prefix}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6a4263b9-6576-4699-8210-49731135db5c",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{serviceprovider_api}}/scopes/all?inactive=true",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"scopes",
								"all"
							],
							"query": [
								{
									"key": "inactive",
									"value": "true"
								},
								{
									"key": "prefix",
									"value": "eldar",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/scopes",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "06bc0f89-04c7-40d6-abec-9f10a1e4eed1",
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(200);",
									"var jsonData=pm.response.json();",
									"pm.globals.set(\"new_scope\",jsonData.name);",
									"console.log(\"new scope \",pm.globals.get(\"new_scope\"));",
									"        ",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "264685f4-4dc0-407d-ab9e-2fe02be2637c",
								"exec": [
									"postman.setGlobalVariable('ran', Math.floor(Math.random() * 5000));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\n    \"name\": \"tullenamn:eldar\",\n    \"active\": true,\n    \"prefix\": \"eldar\",\n    \"subscope\": \"nyttscope1{{ran}}\",\n    \"description\": \"Dette er Knut sitt interne scope\",\n    \"visibility\": \"PUBLIC\",\n    \"last_updated\": \"2019-02-08T09:09:12.057+01:00\",\n    \"created\": \"2019-02-07T10:47:00.086+01:00\",\n    \"owner_orgno\": \"991825827\",\n   \"token_type\": \"SELF_CONTAINED\"\n\n}"
						},
						"url": {
							"raw": "{{serviceprovider_api}}/scopes",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"scopes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Put /scopes{?scope}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "456b0613-c790-47e2-8d6a-5a8ac48441b9",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    console.log(\"header : \" + request.headers[\"Content-Type\"]);",
									"console.log(\"body : \" + request.data);",
									"console.log(\"url : \" + request.url);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"eldar:nyttscope13199\",\n    \"active\": true,\n    \"prefix\": \"eldar\",\n    \"subscope\": \"nyttscope13199\",\n    \"description\": \"Dette er Knut sitt interne scope\",\n    \"visibility\": \"INTERNAL\",\n    \"last_updated\": \"2019-08-02T11:47:51.630+02:00\",\n    \"created\": \"2019-08-02T11:47:51.630+02:00\",\n    \"owner_orgno\": \"991825827\",\n    \"token_type\": \"SELF_CONTAINED\"\n}"
						},
						"url": {
							"raw": "{{serviceprovider_api}}/scopes?scope={{new_scope}}",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"scopes"
							],
							"query": [
								{
									"key": "scope",
									"value": "{{new_scope}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "scope-access-controller",
			"item": [
				{
					"name": "/scopes/access{?consumer_orgno, owner_orgno, inactive, scope*}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4459e122-5953-49a3-9e48-5d9cf7beb2fe",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{serviceprovider_api}}/scopes/access?inactive=true&scope={{new_scope}}",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"scopes",
								"access"
							],
							"query": [
								{
									"key": "consumer_orgno",
									"value": "",
									"disabled": true
								},
								{
									"key": "owner_orgno",
									"value": "889640782",
									"disabled": true
								},
								{
									"key": "inactive",
									"value": "true"
								},
								{
									"key": "scope",
									"value": "{{new_scope}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/scopes/access/all{?inactive}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c1960a1d-9b2f-4c60-9edf-9a122f03c397",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{serviceprovider_api}}/scopes/access/all?inactive=true",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"scopes",
								"access",
								"all"
							],
							"query": [
								{
									"key": "inactive",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/scopes/access/{consumer_orgno}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f72efa62-7887-4740-ba6f-bff0e867b697",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{serviceprovider_api}}/scopes/access/991825827?scope={{new_scope}}",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"scopes",
								"access",
								"991825827"
							],
							"query": [
								{
									"key": "scope",
									"value": "{{new_scope}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/scopes/access/{consumer_orgno}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "20360f86-52cc-4076-8b95-48380b942e96",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{serviceprovider_api}}/scopes/access/991825827?scope={{new_scope}}",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"scopes",
								"access",
								"991825827"
							],
							"query": [
								{
									"key": "scope",
									"value": "{{new_scope}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete  /scopes{?scope}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11c7f893-2704-4292-9819-12d13b8a5722",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{serviceprovider_api}}/scopes?scope={{new_scope}}",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"scopes"
							],
							"query": [
								{
									"key": "scope",
									"value": "{{new_scope}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "scope-prefix-controller",
			"item": [
				{
					"name": "/prefix",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c0f4a708-0125-4e79-8759-d0c730c7ff65",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token_sp}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{serviceprovider_api}}/prefix",
							"host": [
								"{{serviceprovider_api}}"
							],
							"path": [
								"prefix"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "fe9b1d7d-f851-4ed7-8884-49c3112dd831",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "971f28d2-4bbe-403d-ae10-c4d2e42c3967",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{access_token_sp}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "a413abee-2807-4312-8602-6ef7198cb74e",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "64d9e171-1afd-4655-806a-8a438c1fd178",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}