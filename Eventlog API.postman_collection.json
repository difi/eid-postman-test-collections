{
	"info": {
		"_postman_id": "f7e02c7c-057d-496a-a583-b5c94d434a7a",
		"name": "Eventlog API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Hente gyldig accesstoken med riktig scope",
			"item": [
				{
					"name": "postreq",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "713e1a24-6a6c-4137-b6ec-ec8c924b3c95",
								"exec": [
									"var jsonData=pm.response.json();",
									"pm.globals.set(\"session\",jsonData.sessionId);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n        }\r\n    }\r\n}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session"
							]
						}
					},
					"response": [
						{
							"name": "postreq",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"desiredCapabilities\": {\r\n        \"caps\": {\r\n            \"nativeEvents\": false,\r\n            \"browserName\": \"chrome\",\r\n            \"version\": \"\",\r\n            \"platform\": \"ANY\"\r\n\r\n        }\r\n    }\r\n}"
								},
								"url": {
									"raw": "http://localhost:9515/session",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "9515",
									"path": [
										"session"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [],
							"cookie": [],
							"body": ""
						}
					]
				},
				{
					"name": "navigatetooidcclienturl",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "227958f2-7dc9-4d24-a52e-9381fe8f9734",
								"exec": [
									"tests[\"sessionId\"]=responseBody.has(\"sessionId\");",
									"tests[\"client_id is status\"]=responseBody.has(\"status\");",
									"tests[\"value\"]=responseBody.has(\"value\");",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"url\":\"{{idporten_oidc_client_url}}\"}\n"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/url",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"url"
							]
						}
					},
					"response": []
				},
				{
					"name": "findclientelementid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
								"exec": [
									"pm.test(\"find element id for client_id \", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"client_id\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"name\",\"value\":\"client_id\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "selectdropdown",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a9c5f504-80da-4b67-bd66-86c7cb3558c4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{client_id}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{client_id}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "clickenter",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "93942b66-73f7-40cd-816a-8f6eac550aec",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"value\":[\"\\uE007\"]}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{client_id}}/value",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{client_id}}",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "findscopeid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
								"exec": [
									"pm.test(\"Scope element id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"scope\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"name\",\"value\":\"scope\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "setscope",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e65befc8-4e49-43f6-a2bc-3ebfdc77a6dc",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"value\":[\"   user/kontaktinformasjon.read user/spraak.read  user/spraak.write idporten:user.log.read idporten:user.log.read idporten:user.log.all.read krr:user.log.all.read\"]}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{scope}}/value",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{scope}}",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "findloginelementid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1d20f14d-4667-407b-b870-4b0051ebd97b",
								"exec": [
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"loginid\", jsonData.value.ELEMENT);",
									"",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"login\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "clicklogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a9c5f504-80da-4b67-bd66-86c7cb3558c4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "5f95f475-e14e-4a9f-9448-803200c232cd",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{loginid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{loginid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "elementonthispage",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4d4bd4ba-154b-4b05-923d-64e1d36be0a1",
								"exec": [
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"minid_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/x-www-form-urlencoded",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"MinIDChain\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "clickonminid",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{minid_elementid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{minid_elementid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "getelementidssn",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "189f83ec-8efd-438c-b133-0fbc201abad0",
								"exec": [
									"var jsonData = pm.response.json();",
									" pm.globals.set(\"ssn_elementid\", jsonData.value.ELEMENT);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"input_USERNAME_IDPORTEN\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "getelementidpassword",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8929c791-35e2-41f7-8b0b-8678e9309e58",
								"exec": [
									"var jsonData = pm.response.json();",
									" pm.globals.set(\"password_elementid\", jsonData.value.ELEMENT);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"input_PASSWORD_IDPORTEN\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "setssn",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e65befc8-4e49-43f6-a2bc-3ebfdc77a6dc",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"value\":[\"{{ssn}}\"]}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{ssn_elementid}}/value",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{ssn_elementid}}",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "setpassword",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"value\":[\"password01\"]}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{password_elementid}}/value",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{password_elementid}}",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "submit",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d4ee6a6d-0d1e-4948-aaa6-a2829f185475",
								"exec": [
									"pm.test(\"next_elementid\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"next_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "clicksubmit",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e75ea17b-88ea-4c32-b35f-8758d03c48c1",
								"exec": [
									"setTimeout(checkStatusCode, 500);\r",
									"\r",
									"    function checkStatusCode() {\r",
									"\r",
									"        pm.sendRequest('https://postman-echo.com/get', function (err, res) {\r",
									"\r",
									"            tests['status code should be 200']= res.code ===200;\r",
									"\r",
									"        });\r",
									"    }"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{next_elementid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{next_elementid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "pinnumberid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "49f2b57c-29a8-41bf-9041-7400083bf039",
								"exec": [
									"pm.test(\"pin_elementid\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"pin_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"input_PINCODE1_IDPORTEN\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "setppin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "95b50532-96b7-405c-afd1-52b576a70e9f",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"value\":[\"12345\"]}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{pin_elementid}}/value",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{pin_elementid}}",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "getsubmitid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "02b4c223-cb45-4310-b064-d60510887571",
								"exec": [
									"pm.test(\"submit_elementid\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"submit_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"nextbtn\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "finalsubmit ",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{submit_elementid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{submit_elementid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "getconsentid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "02b4c223-cb45-4310-b064-d60510887571",
								"exec": [
									"pm.test(\"consent_elementid\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"consent_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"name\",\"value\":\"consentAccepted\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "acceptconsent",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "file",
							"file": {
								"src": ""
							}
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{consent_elementid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{consent_elementid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "gettokenid",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "02b4c223-cb45-4310-b064-d60510887571",
								"exec": [
									"pm.test(\"token_elementid\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.globals.set(\"token_elementid\", jsonData.value.ELEMENT);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"using\":\"id\",\"value\":\"get-tokens\"}"
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element"
							]
						}
					},
					"response": []
				},
				{
					"name": "henttoken",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "file",
							"file": {
								"src": ""
							}
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/element/{{token_elementid}}/click",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"element",
								"{{token_elementid}}",
								"click"
							]
						}
					},
					"response": []
				},
				{
					"name": "getTokensElements",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "02b4c223-cb45-4310-b064-d60510887571",
								"exec": [
									"pm.test(\"tokens\", function () {",
									" var jsonData = pm.response.json();",
									" console.log('tokens test jsonData',jsonData);",
									" var tokens=jsonData.value;",
									"  console.log('tokens test tokens',tokens);",
									" var temptoken=tokens.split('access_token:').pop();",
									"   console.log('tokens test temptoken',temptoken);",
									" var refreshtokenpos=temptoken.lastIndexOf(\"refresh_token:\");",
									"    console.log('tokens test refreshtokenpos',refreshtokenpos);",
									" var token = temptoken.substring(1,refreshtokenpos-1);    ",
									" pm.environment.set(\"eventlog_token\", token);",
									"     ",
									"console.log('eventlog_token',pm.environment.get(\"eventlog_token\"));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://chromedriver:4444/session/{{session}}/source",
							"protocol": "http",
							"host": [
								"chromedriver"
							],
							"port": "4444",
							"path": [
								"session",
								"{{session}}",
								"source"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "4e0dc75c-1785-4fac-a98f-121ea8a60141",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "dc0686a3-bc5a-4282-a7cc-7536756437b3",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Logg-innslag",
			"item": [
				{
					"name": "/logg/idporten",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "75ea3cc3-43ca-4719-b8de-974667c6ad94",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Test will check integrasjon_id\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].integrasjon_id).to.eql(\"test_rp_atest\");",
									"",
									"});",
									"",
									"",
									"pm.test(\"response must be valid and have a body\", function () {",
									"     // assert that the status code is 200",
									"     pm.response.to.be.ok; // info, success, redirection, clientError,  serverError, are other variants",
									"     // assert that the response has a valid JSON body",
									"     pm.response.to.be.withBody;",
									"     pm.response.to.be.json; // this assertion also checks if a body  exists, so the above check is not needed",
									"});",
									"",
									"pm.test(\"response should be okay to process\", function () { ",
									"    pm.response.to.not.be.error; ",
									"    pm.response.to.not.have.jsonBody(\"error\"); ",
									"});",
									"pm.test(\"Content-Type is present\", function () {",
									"    pm.response.to.have.header(\"Content-Type\");",
									"});",
									"tests[\"tidspunkt is present\"]=responseBody.has(\"tidspunkt\");",
									"tests[\"tjeneste is present\"]=responseBody.has(\"tjeneste\");",
									"tests[\"eid is present\"]=responseBody.has(\"eid\");",
									"tests[\"integrasjon_id is present\"]=responseBody.has(\"integrasjon_id\");",
									"tests[\"orgno is present\"]=responseBody.has(\"orgno\");",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{eventlog_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"ssn\": 23079403164\r\n\r\n}"
						},
						"url": {
							"raw": "https://eid-atest-web01.dmz.local/eventlog-api/logg/idporten?maxhits=1",
							"protocol": "https",
							"host": [
								"eid-atest-web01",
								"dmz",
								"local"
							],
							"path": [
								"eventlog-api",
								"logg",
								"idporten"
							],
							"query": [
								{
									"key": "maxhits",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/rest/v1/person",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "299aba29-2bbf-43bd-bdf9-bec968ee3a7c",
								"exec": [
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "ecf1e525-3977-432c-bfcf-2dd6115e5a49",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(502);",
									"",
									"    ",
									"console.log(\"header : \" + request.headers[\"Content-Type\"]);",
									"console.log(\"authorization : \" + request.headers[\"Authorization\"]);",
									"console.log(\"body : \" + request.data);",
									"console.log(\"url : \" + request.url);",
									"    ",
									"});",
									"",
									"",
									"",
									"pm.test(\"response must be valid and have a body\", function () {",
									"     // assert that the status code is 200",
									"     pm.response.to.be.ok; // info, success, redirection, clientError,  serverError, are other variants",
									"     // assert that the response has a valid JSON body",
									"     pm.response.to.be.withBody;",
									"     pm.response.to.be.json; // this assertion also checks if a body  exists, so the above check is not needed",
									"});",
									"",
									"pm.test(\"response should be okay to process\", function () { ",
									"    pm.response.to.not.be.error; ",
									"    pm.response.to.not.have.jsonBody(\"error\"); ",
									"});",
									"pm.test(\"Content-Type is present\", function () {",
									"    pm.response.to.have.header(\"Content-Type\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{eventlog_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"ssn\": 23079403164\r\n\r\n}"
						},
						"url": {
							"raw": "{{krr_oauth2_server}}/rest/v1/person/",
							"host": [
								"{{krr_oauth2_server}}"
							],
							"path": [
								"rest",
								"v1",
								"person",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Bruka av kontaktinfo",
			"item": [
				{
					"name": "/logg/kontaktregisteret/all",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "75ea3cc3-43ca-4719-b8de-974667c6ad94",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    console.log(\"bruk av kontaktinfo from atest\",jsonData);",
									"    ",
									"    tests[\"timeStamp is present\"]=responseBody.has(\"timeStamp\");",
									"tests[\"informasjonsbehov is present\"]=responseBody.has(\"informasjonsbehov\");",
									"tests[\"log_type is present\"]=responseBody.has(\"log_type\");",
									"tests[\"log_type_description is present\"]=responseBody.has(\"log_type_description\");",
									"tests[\"orgno is present\"]=responseBody.has(\"orgno\");",
									"tests[\"person_identifier is present\"]=responseBody.has(\"person_identifier\");",
									"});",
									"",
									"",
									"pm.test(\"response must be valid and have a body\", function () {",
									"     // assert that the status code is 200",
									"     pm.response.to.be.ok; // info, success, redirection, clientError,  serverError, are other variants",
									"     // assert that the response has a valid JSON body",
									"     pm.response.to.be.withBody;",
									"     pm.response.to.be.json; // this assertion also checks if a body  exists, so the above check is not needed",
									"});",
									"",
									"pm.test(\"response should be okay to process\", function () { ",
									"    pm.response.to.not.be.error; ",
									"    pm.response.to.not.have.jsonBody(\"error\"); ",
									"});",
									"pm.test(\"Content-Type is present\", function () {",
									"    pm.response.to.have.header(\"Content-Type\");",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{eventlog_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"ssn\": 23079403164\r\n\r\n}"
						},
						"url": {
							"raw": "https://eid-atest-web01.dmz.local/eventlog-api/logg/kontaktregisteret/all",
							"protocol": "https",
							"host": [
								"eid-atest-web01",
								"dmz",
								"local"
							],
							"path": [
								"eventlog-api",
								"logg",
								"kontaktregisteret",
								"all"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accesstoken_eventlogapi}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "06e2aacf-02c4-4094-86ca-caf761067cf2",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "655b6888-b408-4dd0-9e56-b78d460b61eb",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}